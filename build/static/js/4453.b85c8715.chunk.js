"use strict";(self.webpackChunkprismatech_webapp=self.webpackChunkprismatech_webapp||[]).push([[4453],{44453:function(s,e,a){a.r(e),a.d(e,{default:function(){return C}});var t=a(15671),n=a(43144),r=a(60136),i=a(54062),l=a(72791),o=a(13136),c=a(97326),d=a(60364),u=a(763),p=a.n(u),m=a(92279),h=a(85545),f=a(80184),x=function(s){(0,r.Z)(a,s);var e=(0,i.Z)(a);function a(s){var n;return(0,t.Z)(this,a),(n=e.call(this,s)).state={err:"",pass:"",pass_new:"",pass_new_conf:"",seePass:!1,seePassConf:!1,seePassClass:"fas fa-eye",seePassConfClass:"fas fa-eye"},n._handleSubmit=n._handleSubmit.bind((0,c.Z)(n)),n}return(0,n.Z)(a,[{key:"componentDidMount",value:function(){this.props.reset()}},{key:"_handleSubmit",value:function(){var s=this.state,e=s.pass,a=s.pass_new,t=s.pass_new_conf,n=this.props,r=n.userId,i=n.doResult;console.log("handle submit"),a!==t?(0,h.Ce)("Password konfirmasi tidak sama","error"):a.length<=5?(0,h.Ce)("Gagal mengubah password. Panjang password minimal 5 karakter","error"):i({password:e,new_password:a,userId:r}),this._clearAllInputs()}},{key:"_clearAllInputs",value:function(){document.querySelectorAll("[id=input]").forEach((function(s){s.value=""}))}},{key:"render",value:function(){var s=this,e=this.props.error;return(0,f.jsx)("div",{className:"modal fade",id:"modal-change-password",children:(0,f.jsx)("div",{className:"z modal-dialog",children:(0,f.jsx)("div",{className:"modal-content bg-info",children:(0,f.jsxs)("form",{children:[(0,f.jsxs)("div",{className:"modal-header",children:[(0,f.jsx)("h4",{className:"modal-title",children:"Ganti Kata Sandi"}),(0,f.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return s._clearAllInputs()},children:(0,f.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,f.jsxs)("div",{className:"modal-body",children:[!p().isEmpty(e)&&(0,f.jsx)("div",{className:"row",children:(0,f.jsx)("div",{className:"col-12",children:(0,f.jsx)("div",{className:"alert alert-danger",role:"alert",children:(0,f.jsx)("center",{children:e})})})}),!p().isEmpty(this.state.err)&&(0,f.jsx)("div",{className:"row",children:(0,f.jsx)("div",{className:"col-12",children:(0,f.jsx)("div",{className:"alert alert-danger",role:"alert",children:(0,f.jsx)("center",{children:this.state.err})})})}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Kata Sandi Lama"}),(0,f.jsx)("input",{type:"password",className:"form-control",id:"input",placeholder:"Kata Sandi Lama",onChange:function(e){return s.setState({pass:e.target.value})},required:!0})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Kata Sandi Baru"}),(0,f.jsxs)("div",{className:"input-group",children:[(0,f.jsx)("input",{type:this.state.seePass?"text":"password",id:"input",className:"form-control",placeholder:"Kata Sandi Baru",onChange:function(e){return s.setState({pass_new:e.target.value})},required:!0}),(0,f.jsx)("div",{className:"input-group-append",children:(0,f.jsx)("span",{className:"input-group-text",children:(0,f.jsx)("i",{className:this.state.seePassClass,onClick:function(){!1===s.state.seePass?s.setState({seePass:!0,seePassClass:"fas fa-eye-slash"}):s.setState({seePass:!1,seePassClass:"fas fa-eye"})}})})})]})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Konfirmasi Kata sandi baru"}),(0,f.jsxs)("div",{className:"input-group",children:[(0,f.jsx)("input",{type:this.state.seePassConf?"text":"password",id:"input",className:"form-control",placeholder:"Konfirmasi Password Baru",onChange:function(e){return s.setState({pass_new_conf:e.target.value})},required:!0}),(0,f.jsx)("div",{className:"input-group-append",children:(0,f.jsx)("span",{className:"input-group-text",children:(0,f.jsx)("i",{className:this.state.seePassConfClass,onClick:function(){!1===s.state.seePassConf?s.setState({seePassConf:!0,seePassConfClass:"fas fa-eye-slash"}):s.setState({seePassConf:!1,seePassConfClass:"fas fa-eye"})}})})})]})]})]}),(0,f.jsxs)("div",{className:"modal-footer justify-content-between",children:[(0,f.jsx)("button",{id:"buttonCloseModal",type:"button",className:"btn btn-outline-light","data-dismiss":"modal",onClick:function(){return s._clearAllInputs()},children:"Batal"}),(0,f.jsx)("button",{type:"button",className:"btn btn-outline-light",onClick:function(e){return s._handleSubmit()},children:"Kirim"})]})]})})})})}}]),a}(l.Component),j=(0,d.$j)((function(s,e){return{error:s.changepassword.errors,userId:s.myprofile.user_id,email:s.changepassword.email}}),(function(s){return{doResult:function(e){return s(m.ZP.changepasswordSubmit(e))},reset:function(e){return s(m.ZP.changepasswordResetForm())}}}))(x),g=a(73127),b=a(92922),v=a(54270),N=a(16585),y=function(s){(0,r.Z)(a,s);var e=(0,i.Z)(a);function a(){return(0,t.Z)(this,a),e.apply(this,arguments)}return(0,n.Z)(a,[{key:"_clearAllInputs",value:function(){document.querySelectorAll("[id=input]").forEach((function(s){s.value=""}))}},{key:"render",value:function(){var s=this,e=[{page:"Ganti Kata Sandi",action:this.props.doResult({page:"changePassword"}),modalid:"modal-change-password"}];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.Z,{}),(0,f.jsxs)(v.Z,{children:[(0,f.jsx)("title",{children:"Akun Saya"}),(0,f.jsx)("body",{className:"hold-transition sidebar-mini layout-fixed layout-navbar-fixed layout-footer-fixed"})]}),(0,f.jsxs)("div",{className:"xxcontent-wrapper",children:[(0,f.jsx)(b.Z,{title:"Akun Saya",breadcrumb:[{title:"Beranda",link:N.Z.appHomePage,active:!0},{title:"Akun Saya",active:!0}]}),(0,f.jsx)("section",{className:"content",children:(0,f.jsx)("div",{className:"container-fluid",children:(0,f.jsx)("div",{className:"card card-primary",children:(0,f.jsx)("div",{className:"card-body",children:(0,f.jsxs)("ul",{className:"list-group list-group-unbordered mb-3",children:[(0,f.jsxs)("li",{className:"list-group-item",children:[(0,f.jsx)("b",{children:"Email"})," ",(0,f.jsx)("span",{className:"float-right",children:this.props.email})]}),e.map((function(e,a){return(0,f.jsxs)("li",{className:"list-group-item",children:[(0,f.jsx)("b",{children:e.page})," ",(0,f.jsx)("span",{className:"float-right btn btn-outline-secondary btn-sm","data-target":"#"+e.modalid,"data-widget":"control-sidebar","data-toggle":"modal",onClick:function(){return s._clearAllInputs()},children:"Ganti"})]},a)}))]})})})})})]}),(0,f.jsx)(j,{})]})}}]),a}(l.Component),C=(0,d.$j)((function(s,e){return console.log("mapStateToProps",s.dashboard),{email:s.myprofile.email}}),(function(s){return{doResult:function(e){return s(g.ZP.doEditAccount())}}}))(y)}}]);
//# sourceMappingURL=4453.b85c8715.chunk.js.map