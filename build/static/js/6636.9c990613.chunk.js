"use strict";(self.webpackChunkprismatech_webapp=self.webpackChunkprismatech_webapp||[]).push([[6636],{46636:function(e,i,r){r.r(i),r.d(i,{default:function(){return C}});var t=r(29439),l=r(72791),a=r(91523),n=r(60364),d=r(1851),c=r(763),s=r.n(c),o=r(9571),u=r(13136),p=r(92922),h=r(48298),m=r(76176),g=r(80184);var x=(0,n.$j)((function(e,i){return{loading:e.privilege.loading,checkbox:e.privilege.checkbox}}),(function(e){return{privilegeCheckboxOnClick:function(i){return e(m.ZP.privilegeCheckboxOnClick(i))}}}))((function(e){var i=e.roleId,r=e.privilegeId,t=e.checkbox,l=(e.loading,e.privilegeCheckboxOnClick),a=e.rolePrivilegeIds,n=(0,h.Z)([i,r],t),d=s().find(a,{_id:r});return"undefined"===typeof n&&(s().isEmpty(d)?n=!1:l({role_id:i,privilege_id:r,checked:!0})),(0,g.jsx)("input",{type:"checkbox",className:"form-check-input",onChange:function(e){l({role_id:i,privilege_id:r,checked:e.target.checked})},checked:n},r)})),v=r(54270),b=r(72426),f=r.n(b),j=r(16585),_=j.Z.basePath,k=function(e){e.history;var i=e.dataDetail;e.privilege,e.setPrivilege;return[{Header:"Act",accessor:function(e){return(0,g.jsxs)("div",{className:"btn-group",children:[(0,g.jsx)("button",{type:"button",className:"btn btn-default dropdown-toggle dropdown-icon","data-toggle":"dropdown",children:(0,g.jsx)("span",{className:"sr-only",children:"Toggle Dropdown"})}),(0,g.jsx)("div",{className:"dropdown-menu",role:"menu",children:(0,g.jsx)(a.rU,{className:"dropdown-item",to:"".concat(_,"/privilege/detail/").concat(e._id),children:"Detail"})})]})}},{Header:"entity",accessor:"entity"},{Header:"description",accessor:"description"},{Header:"title",accessor:"title"},{Header:"created by",accessor:"created_by.full_name"},{Header:"Set",accessor:function(e){var r=(0,h.Z)(["_id"],e),t=(0,h.Z)(["name"],e);return(0,g.jsxs)("div",{className:"form-check",children:[(0,g.jsx)(x,{roleId:i._id,privilegeId:r,rolePrivilegeIds:i.privilege_id}),(0,g.jsx)("label",{className:"form-check-label",htmlFor:"exampleCheck1",children:t})]})}}]},y=function(e){var i=e.dataDetail,r=e.history,t=e.privilege,l=e.setPrivilege,a=e.privilegeCheckboxSubmit,n=e.privilegeCheckbox,d=f()(i.created_at||0);d=d&&d.isValid()?d.format(j.Z.datetimeFormat):"";var c=f()(i.updated_at||0);return c=c&&c.isValid()?c.format(j.Z.datetimeFormat):"",(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("dl",{children:[(0,g.jsx)("dt",{children:"Judul"}),(0,g.jsx)("dd",{children:i.title}),(0,g.jsx)("dt",{children:"Description"}),(0,g.jsx)("dd",{children:i.description}),(0,g.jsx)("dt",{children:"Privileges"}),(0,g.jsx)("dd",{children:(s().map(i.privilege_id||[],(function(e,i){return e.title}))||[]).join(", ")}),(0,g.jsx)("dt",{children:"Diperbaharui Oleh"}),(0,g.jsx)("dd",{children:(i.updated_by||{}).full_name||""}),(0,g.jsx)("dt",{children:"Dibuat Oleh"}),(0,g.jsx)("dd",{children:(i.created_by||{}).full_name||""}),(0,g.jsx)("dt",{children:"Tanggal Pembuatan"}),(0,g.jsx)("dd",{children:d}),(0,g.jsx)("dt",{children:"Tanggal Diperbaharui"}),(0,g.jsx)("dd",{children:c})]}),(0,g.jsx)(o.iA,{listallServiceName:"getAllPrivileges",fields:"_id,title,entity,description,name,updated_at,created_by{full_name},updated_by{full_name}",columns:k({history:r,dataDetail:i,privilege:t,setPrivilege:l}),cardTitle:"Daftar Privileges",cardHeader:function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("button",{type:"button",className:"btn btn-info",onClick:function(){return r.push("/privilege/upsert?role_id=".concat(i._id))},children:[(0,g.jsx)("i",{className:"fas fa-plus"})," Create New Privilege"]}),(0,g.jsxs)("button",{type:"button",style:{marginLeft:5},className:"btn btn-warning",onClick:function(){return a({privilegeIdsObj:n[i._id]||{},roleId:i._id})},children:[(0,g.jsx)("i",{className:"fas fa-plus"})," Submit Privilege "]})]})},apiVersion:2})]})};var C=(0,n.$j)((function(e,i){return{userPrivileges:e.myprofile,privilegeCheckbox:e.privilege.checkbox}}),(function(e){return{privilegeCheckboxSubmit:function(i){return e(m.ZP.privilegeCheckboxSubmit(i))}}}))((0,d.ZP)((function(e){var i=e.history,r=e.match,a=e.privilegeCheckbox,n=e.privilegeCheckboxSubmit,d=(0,l.useState)({}),c=(0,t.Z)(d,2),s=c[0],h=c[1];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{}),(0,g.jsxs)(v.Z,{children:[(0,g.jsx)("title",{children:"Detail Role"}),(0,g.jsx)("body",{className:"hold-transition sidebar-mini layout-fixed layout-navbar-fixed layout-footer-fixed"})]}),(0,g.jsxs)("div",{className:"content-wrapper",children:[(0,g.jsx)(p.Z,{title:"Detail Role",breadcrumb:[{title:"Beranda",link:j.Z.appHomePage},{title:"Role",link:"/role"},{title:"Role Detail",link:null,isActive:!0}]}),(0,g.jsx)("section",{className:"content",children:(0,g.jsx)("div",{className:"container-fluid",children:(0,g.jsx)("div",{className:"row",children:(0,g.jsx)("div",{className:"col-md-12",children:(0,g.jsx)(o.F,{detailServiceName:"getDetailRole",deleteServiceName:"deleteRole",fields:"_id,title,description,privilege_id{_id, title, name},created_at,updated_at,created_by{full_name},updated_by{full_name}",id:r.params._id,formTitle:"Detail Role",redirectAfterDelete:"/role",updatePageUrl:"/role/upsert/".concat(r.params._id),createPageUrl:"/role/upsert",children:(0,g.jsx)(y,{privilegeCheckbox:a,setPrivilege:h,privilege:s,history:i,privilegeCheckboxSubmit:n})})})})})})]})]})})))}}]);
//# sourceMappingURL=6636.9c990613.chunk.js.map