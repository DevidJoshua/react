"use strict";(self.webpackChunkprismatech_webapp=self.webpackChunkprismatech_webapp||[]).push([[1055],{41055:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var i=n(4942),a=n(1413),r=n(29439),o=n(72791),s=n(60364),l=n(20890),u=n(64554),c=n(61889),d=n(24518),m=n(2199),f=n(57621),h=n(9585),x=n(39504),Z=n(72363),p=n(48550),j=n(68096),g=n(78881),v=n(16585),Q=n(25036),P=(n(41429),n(38596)),b=n(77063),y=n(50036),V=n(92187),C=n(13967),S=n(5574),M=n(97123),k=n(80184),w=function(e){var t=e.doPayQris,n=e.setOpenQrModal,i=e.setCloseQrModal,a=e.isOpenQr,s=o.useState(!1),l=(0,r.Z)(s,2),u=(l[0],l[1],function(e){(0,V.Z)({paper:{position:"absolute",border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}})}((0,C.Z)()),o.useState({})),m=(0,r.Z)(u,2),f=(m[0],m[1]),h=o.useState([]),x=(0,r.Z)(h,2),Z=(x[0],x[1]),p=(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),function(){i()});return o.useEffect((function(){navigator.mediaDevices.enumerateDevices().then((function(e){return e.filter((function(e){return"videoinput"===e.kind}))})).then((function(e){Z(e),f(e[0])}))}),[]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(d.Z,{variant:"outlined",onClick:function(){n()},startIcon:(0,k.jsx)(y.Z,{}),children:"Scan"}),(0,k.jsxs)(S.Z,{onClose:p,open:a,children:[(0,k.jsx)(b.T,{onResult:function(e,n){null==e&&void 0==e||t({qrisData:e.text})},style:{width:"100%",height:"100%"},scanDelay:900,constraints:{facingMode:"environment"},containerStyle:{width:"70vh",height:"70vh"},videoStyle:{width:"fit-content"}}),(0,k.jsx)(M.Z,{children:(0,k.jsxs)(c.ZP,{container:!0,children:[(0,k.jsx)(c.ZP,{item:!0,xs:6}),(0,k.jsx)(c.ZP,{item:!0,xs:6,textAlign:"right",children:(0,k.jsx)(d.Z,{autoFocus:!0,onClick:p,children:"Tutup"})})]})})]})]})},N=(0,s.$j)((function(e,t){return{loadingVa:e.simulator.loadingVa,loadingQr:e.simulator.loadingQr,isOpenQr:e.simulator.isOpenModalQr,statusVa:e.simulator.statusVa,statusQr:e.simulator.statusQr}}),(function(e){return{setOpenQrModal:function(t){return e(Q.ZP.setOpenQrModal())},setCloseQrModal:function(t){return e(Q.ZP.setCloseQrModal())},doPayQris:function(t){return e(Q.ZP.doPayQris(t))}}}))(w),O=n(93433),A=n(39157);function H(e){var t=e.open,n=function(e){return(0,V.Z)({overlayContent:{flexDirection:"row",padding:"2rem",background:e.palette.info.main}})}((0,C.Z)()),i=o.useState(0),a=(0,r.Z)(i,2),s=a[0],u=a[1],d=o.useState([]),m=(0,r.Z)(d,2),f=m[0],h=m[1];return o.useEffect((function(){setTimeout((function(){s>3?(h([]),u(0)):(h([].concat((0,O.Z)(f),["."])),u(s+1))}),500)}),[s]),(0,k.jsx)(S.Z,{open:t,children:(0,k.jsx)(A.Z,{className:n.overlayContent,children:(0,k.jsx)(c.ZP,{children:(0,k.jsxs)(l.Z,{variant:"h6",children:["Memproses Pembayaran",f.join("")]})})})})}n(763);var T=(0,P.Z)((function(e){return{cardHeader:{background:"linear-gradient(to right bottom, ".concat(e.palette.primary.main,",").concat(e.palette.info.main,")")},titleHeader:{color:"#fff",fontWeight:500}}}));var D=(0,s.$j)((function(e,t){return{loadingVa:e.simulator.isloadingVa,loadingQr:e.simulator.isloadingQr,isOpenQr:e.simulator.isOpenModalQr,statusVa:e.simulator.statusVa,statusQr:e.simulator.statusQr,reload:e.simulator.reload}}),(function(e){return{doPayVirtualAccount:function(t){return e(Q.ZP.doPayVirtualAccount(t))}}}))((function(e){var t=e.reload,n=e.loadingVa,s=e.loadingQr,Q=e.doPayVirtualAccount,P=(e.isOpenQr,e.statusVa,e.statusQr,{vaNumber:""}),b=T(),y=o.useState(P),V=(0,r.Z)(y,2),C=V[0],S=V[1];return o.useEffect((function(){S(P)}),[t]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(H,{open:s||n}),(0,k.jsx)(g.Z,{pageTitle:"Simulator",breadcrumb:[{title:"Beranda",link:v.Z.appHomePage},{title:"Simulator",link:null,isActive:!0}],contentHeaderTitle:"Simulator",isNeedLoggedin:!0,children:(0,k.jsx)(u.Z,{sx:{flexGrow:1},children:(0,k.jsx)(c.ZP,{container:!0,spacing:1,children:(0,k.jsxs)(c.ZP,{container:!0,item:!0,spacing:3,children:[(0,k.jsx)(c.ZP,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:(0,k.jsxs)(f.Z,{elevation:12,children:[(0,k.jsx)(h.Z,{className:b.cardHeader,title:(0,k.jsx)(l.Z,{variant:"h6",className:b.titleHeader,children:"Virtual Account"})}),(0,k.jsx)(x.Z,{children:(0,k.jsx)(u.Z,{component:"form",sx:{"& .MuiTextField-root":{m:1}},noValidate:!0,autoComplete:"off",children:(0,k.jsx)(j.Z,{size:"small",fullWidth:!0,children:(0,k.jsx)(p.Z,{size:"small",value:C.vaNumber,onChange:function(e){return function(t){S((0,a.Z)((0,a.Z)({},C),{},(0,i.Z)({},e,t.target.value)))}}("vaNumber"),fullWidth:!0,label:"No. VA",sx:{margin:0}})})})}),(0,k.jsx)(Z.Z,{sx:{marginLeft:2},children:(0,k.jsx)(m.Z,{disableElevation:!0,variant:"contained",children:(0,k.jsx)(d.Z,{disabled:n||function(e){var t=!1;for(var n in e)e.hasOwnProperty(n)&&(t=void 0!==e[n]&&void 0===e[n]!=="null"&&""!==e[n]);return!t}(C),onClick:function(){Q(C)},children:n?"Membayar...":"Bayar"})})})]})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:(0,k.jsxs)(f.Z,{elevation:6,children:[(0,k.jsx)(h.Z,{className:b.cardHeader,title:(0,k.jsx)(l.Z,{variant:"h6",className:b.titleHeader,children:"QRIS"})}),(0,k.jsx)(x.Z,{children:(0,k.jsx)(u.Z,{component:"form",sx:{"& .MuiTextField-root":{m:1},display:"flex",alignItems:"center",justifyContent:"center"},noValidate:!0,autoComplete:"off",children:(0,k.jsx)(N,{})})})]})})]})})})})]})}))}}]);
//# sourceMappingURL=1055.d63fb5f1.chunk.js.map