"use strict";(self.webpackChunkprismatech_webapp=self.webpackChunkprismatech_webapp||[]).push([[4810],{5620:function(e,r,t){t.d(r,{AJ:function(){return u},O_:function(){return v},PI:function(){return g},PS:function(){return m},Pu:function(){return y},XU:function(){return x},Yo:function(){return j},_W:function(){return f},dV:function(){return p},ny:function(){return P},oj:function(){return h},uX:function(){return _},wo:function(){return A}});t(72791);var i=t(91523),a=t(763),n=t.n(a),d=t(16585),l=t(80184),c=d.Z.basePath,s="product",o="/product/detail",u="/product",m=function(e){return"/".concat(s,"/upsert").concat(e?"/"+e:"")},_=function(){return"/".concat(s)},p="Buat Baru",h="Products",f="Product Detail",P="Form Product",g="upsertTokoProduct",j="getDetailTokoProduct",v="getAllTokoProducts",A="deleteTokoProduct",x="_id,content1,estimated_delivery_unit_time_instock,estimated_delivery_unit_time_preorder,estimated_delivery_time_instock,estimated_delivery_time_preorder,instock_label,preorder_policy,product_availability,stock_amount,weight,isneed_shipping,name,code,description,price,tag_id{_id, name},toko_id{_id, name},category_id{_id, title},image_id{_id, filename, filenameorigin, file_type},image_ids{_id, filename, filenameorigin, file_type},created_at,updated_at,created_by{full_name},updated_by{full_name}",y=function(e){return[{Header:" ",accessor:"_id",Cell:function(e){return(0,l.jsxs)("div",{className:"btn-group",children:[(0,l.jsx)("button",{type:"button",className:"btn btn-default dropdown-toggle dropdown-icon","data-toggle":"dropdown",children:(0,l.jsx)("span",{className:"sr-only",children:"Toggle Dropdown"})}),(0,l.jsx)("div",{className:"dropdown-menu",role:"menu",children:(0,l.jsx)(i.rU,{className:"dropdown-item",to:"".concat(c).concat(o,"/").concat(e.cell.value),children:"Detail"})})]})}},{Header:"Nama",accessor:"name"},{Header:"Kode",accessor:"code"},{Header:"Harga",accessor:"price"},{Header:"Kategori",accessor:function(e){return(0,l.jsx)("span",{children:(n().map(e.category_id,(function(e){return e.title}))||[]).join(", ")})}},{Header:"Toko",accessor:function(e){return(0,l.jsx)("span",{children:(n().map(e.toko_id,(function(e){return e.name}))||[]).join(", ")})}},{Header:"Dibuat Oleh",accessor:"created_by.full_name"}]};r.ZP={redirectAfterCreate:o,redirectAfterDelete:u,detailPageUrl:function(e){return"/".concat(s,"/detail/").concat(e)},upsertPageUrl:m,createNewButtonLabel:p,createPageTitle:"Buat Baru",listallPageTitle:h,detailPageTitle:f,upsertPageTitle:P,createService:"createTokoProduct",detailService:j,upsertService:g,listallService:v,deleteService:A,fields:x,getColumns:y,listallPageUrl:_}},54810:function(e,r,t){t.r(r);t(72791);var i=t(1851),a=t(763),n=t.n(a),d=t(56366),l=t(48262),c=t(9571),s=t(48298),o=t(78881),u=t(5620),m=t(72426),_=t.n(m),p=t(16585),h=t(80184);function f(e,r,t){var i=(0,s.Z)([t[0]],r),a="";return a=!n().isEmpty(i)&&Array.isArray(i)?i.map((function(e){return e?e[t[1]]:"-"})).join(", "):n().isEmpty(i)||"object"!==typeof i?i:i[t[1]],(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("dt",{children:e}),(0,h.jsx)("dd",{children:a||"-"})]})}var P=function(e){var r=e.dataDetail,t=e.formTitle,i=e.detailServiceName,a=r.isneed_shipping;a="Y"===a?"Butuh":"Tidak Butuh";var n=_()(r.created_at||0);n=n&&n.isValid()?n.format("YYYY-MM-DD HH:mm:ss"):"";var c=_()(r.updated_at||0);c=c&&c.isValid()?c.format("YYYY-MM-DD HH:mm:ss"):"";var s={hour:"Jam",day:"Hari",week:"Minggu",month:"Bulan"},o="unavailable"===r.preorder_policy?"Habis":"Pre-Order";return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-sm-6",children:(0,h.jsx)(l.As,{formTitle:t,serviceName:i,children:(0,h.jsxs)("dl",{children:[f("Nama",r,["name"]),f("Kode",r,["code"]),f("Harga",r,["price"]),f("Berat",r,["weight"]),(0,h.jsx)("dt",{children:"Apakah Butuh Ongkir?"}),(0,h.jsx)("dd",{children:a}),f("Kategori",r,["category_id","title"]),f("Toko Online",r,["toko_id","name"]),f("Tagging",r,["tag_id","name"]),{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TAPTALK_SECRET:"06c17097010c84bc9d4422859f1d89e30d6c4384604f427c2981753a4c283db9",REACT_APP_BACKEND_BASE_URL:"",REACT_APP_BASE_URL:"",REACT_APP_BASE_URL_PRODUCTION:"https://dashboard.plink.co.id",REACT_APP_BASE_URL_STAGING:"https://dashboard-staging.plink.co.id",REACT_APP_PAY_DONATION_LINK_URL:"https://secure2-dev.plink.co.id",REACT_APP_DEV_HOST_PROXY:"https://dashboard-staging.plink.co.id",REACT_APP_PAYMENT_LINK_REDIRECTION_ENDPOINT:"/paymentpage/web/payment-page/payment-step1",REACT_APP_HOMEPAGE_PATH:"/dashboard-ecomm",REACT_APP_APP_NAME:"PLINKLite Dev",REACT_APP_GRAPHQL_PATH:"/fmpkcxgwv4zuecddsnk65htcrvnt9ae4jc3h58b4",REACT_APP_COPYRIGH:"\xa9 2020 PT. Prismalink International",REACT_APP_CURRENCY:"IDR",REACT_APP_HMACKEY:"QsXtEtYmuPdBUFvtS4DSsmm52v6MaMvWf7Er7Eth"}.REACT_APP_SHOW_FORMFIELD_SHORTDESCRIPTION&&f("Deskripsi",r,["description"]),(0,h.jsx)("dt",{children:"Deskripsi Produk"}),(0,h.jsx)("dd",{children:(0,h.jsx)("div",{className:"dangerouslySetInnerHTML",dangerouslySetInnerHTML:{__html:r.content1||""}})}),(0,h.jsx)("dt",{children:"Ketersediaan Produk"}),(0,h.jsx)("dd",{children:{use_stock:"Gunakan Stok",always_ready:"Selalu Ada Stok"}[r.product_availability]}),f("Label ketika stok masih ada",r,["instock_label"]),(0,h.jsx)("dt",{children:"Setelah customer melakukan pembayaran, produk akan dikirim dalam:"}),(0,h.jsxs)("dd",{children:[r.estimated_delivery_time_instock," ",s[r.estimated_delivery_unit_time_instock]]}),"use_stock"===r.product_availability&&(0,h.jsxs)(h.Fragment,{children:[f("Jumlah Stok",r,["stock_amount"]),(0,h.jsx)("dt",{children:"Status produk jika stok habis:"}),(0,h.jsx)("dd",{children:o}),"preorder"===r.preorder_policy&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("dt",{children:"Produk Pre-order biasanya dikirimkan dalam:"}),(0,h.jsxs)("dd",{children:[r.estimated_delivery_time_preorder," ",s[r.estimated_delivery_unit_time_preorder]||""]})]})]}),(0,h.jsx)("dt",{children:"Gambar"}),(0,h.jsx)("dd",{children:(0,h.jsx)(d.s,{currentFileArray:r.image_ids})}),(0,h.jsx)("dt",{children:"Diperbaharui Oleh"}),(0,h.jsx)("dd",{children:(r.updated_by||{}).full_name||""}),(0,h.jsx)("dt",{children:"Dibuat Oleh"}),(0,h.jsx)("dd",{children:(r.created_by||{}).full_name||""}),(0,h.jsx)("dt",{children:"Tanggal Pembuatan"}),(0,h.jsx)("dd",{children:n}),(0,h.jsx)("dt",{children:"Tanggal Diperbaharui"}),(0,h.jsx)("dd",{children:c})]})})})})})};r.default=(0,i.ZP)((function(e){var r=e.match,t=e.history;return(0,h.jsx)(o.Z,{pageTitle:u._W,breadcrumb:[{title:"Home",link:p.Z.appHomePage},{title:"Daftar Produk",link:"/product"},{title:u._W,link:null,isActive:!0}],contentHeaderTitle:u._W,isNeedLoggedin:!0,children:(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-md-12",children:(0,h.jsx)(c.F,{detailServiceName:u.Yo,deleteServiceName:u.wo,fields:u.XU,id:r.params._id,formTitle:u._W,redirectAfterDelete:u.AJ,updatePageUrl:(0,u.PS)(r.params._id),createPageUrl:(0,u.PS)(),withoutWrapper:!0,children:(0,h.jsx)(P,{history:t,match:r,formTitle:u._W,detailServiceName:u.Yo})})})})})}))},56366:function(e,r,t){t.d(r,{s:function(){return d},R:function(){return f}});var i=t(72791),a=t(16585),n=t(80184);var d=function(e){console.log("render DisplayPictures===",e);var r=e.deletePicture,t=e.deleteCurrentPicture,i=e.currentFileArray||[],d=e.fileArray||[];return(0,n.jsx)("div",{className:"form-group multi-preview",children:(0,n.jsx)("div",{className:"container",children:(0,n.jsxs)("div",{className:"row row-cols-3",children:[i.map((function(e,r){return(0,n.jsx)("div",{className:"col",style:{maxWidth:"50%"},children:(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("img",{width:"100%",src:"".concat(a.Z.hostBackend,"/api/renderfile/").concat(e.filename||"",".").concat(e.file_type||""),alt:"..."}),(0,n.jsx)("div",{className:"card-body",children:t&&(0,n.jsx)("button",{onClick:function(){return t(r)},type:"button",className:"btn btn-danger btn-block btn-sm",children:(0,n.jsx)("i",{className:"fa fa-trash"})})})]})},r)})),d.map((function(e,t){return(0,n.jsx)("div",{className:"col",style:{maxWidth:"50%"},children:(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("img",{width:"100%",src:URL.createObjectURL(e),alt:"..."}),(0,n.jsx)("div",{className:"card-body",children:r&&(0,n.jsx)("button",{onClick:function(){return r(t)},type:"button",className:"btn btn-danger btn-block btn-sm",children:(0,n.jsx)("i",{className:"fa fa-trash"})})})]})},t)}))]})})})},l=t(93433),c=t(15671),s=t(43144),o=t(97326),u=t(60136),m=t(54062),_=t(72606),p=t(1851),h=function(e){(0,u.Z)(t,e);var r=(0,m.Z)(t);function t(e){var i;return(0,c.Z)(this,t),(i=r.call(this,e)).state={currentFileArray:[]},i.setCurrentFileArray=i.setCurrentFileArray.bind((0,o.Z)(i)),i}return(0,s.Z)(t,[{key:"setCurrentFileArray",value:function(e){this.setState({currentFileArray:e})}},{key:"componentDidMount",value:function(){this.setCurrentFileArray(this.props.currentFileIds||[])}},{key:"render",value:function(){var e=this,r=this.props;console.log("render PictureUploadComp===",r);var t=r.multiple,i=r.onChange,a=r.label,c=r.buttonLabel,s=this.state.currentFileArray,o=this.props.fileArray||[];return(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{htmlFor:"fileUploadInput",children:a}),(0,n.jsx)("div",{className:"input-group",style:{zIndex:0},children:(0,n.jsxs)("label",{className:"btn btn-default",children:[(0,n.jsx)(_.Z,{id:c||"label-addpicture"}),(0,n.jsx)("input",{type:"file",className:"custom-file-input",id:"fileUploadInput",onChange:function(e){var r=[];r.push(e.target.files);for(var t=0;t<r[0].length;t++)console.log("image ke "+t),o=[].concat((0,l.Z)(o),[r[0][t]]);i({currentFileIds:s,newFiles:o})},multiple:t,hidden:!0})]})}),(0,n.jsx)("hr",{}),(0,n.jsx)(d,{currentFileArray:s,fileArray:o,deleteCurrentPicture:function(r){console.log("delete index ",r);for(var t=[],a=0;a<s.length;a++)r!==a&&t.push(s[a]);e.setCurrentFileArray(t),i({currentFileIds:t,newFiles:o})},deletePicture:function(e){console.log("delete index ",e);for(var r=[],t=0;t<o.length;t++)e!==t&&r.push(o[t]);i({currentFileIds:s,newFiles:r})}})]})}}]),t}(i.PureComponent),f=(0,p.ZP)(h)}}]);
//# sourceMappingURL=4810.1bbfdbb5.chunk.js.map