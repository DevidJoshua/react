"use strict";(self.webpackChunkprismatech_webapp=self.webpackChunkprismatech_webapp||[]).push([[2143],{35326:function(e,t,n){n.d(t,{AJ:function(){return s},O_:function(){return b},PI:function(){return v},PS:function(){return u},Pu:function(){return P},XU:function(){return y},Yo:function(){return g},_W:function(){return h},dV:function(){return f},ny:function(){return m},oj:function(){return p},uX:function(){return d},wo:function(){return _}});n(72791);var a=n(91523),i=n(16585),r=n(80184),l=i.Z.basePath,o="pgateway",c="/pgateway/detail",s="/"+o,u=function(e){return"/".concat(o,"/upsert").concat(e?"/"+e:"")},d=function(){return"/".concat(o)},f="Buat Pgateway Baru",p="Pgateway",h="Detail Pgateway",m="Form Pgateway",g="getDetailPgateway",v="upsertPgateway",b="getAllPgateways",_="deletePgateway",y="_id,backendCallbackUrl,frontendCallbackUrl,description,title,pgcode,keyid,mid,secretkey,configs,created_at,updated_at,created_by{full_name},updated_by{full_name}",P=function(e){return[{Header:" ",accessor:"_id",Cell:function(e){return(0,r.jsxs)("div",{className:"btn-group",children:[(0,r.jsx)("button",{type:"button",className:"btn btn-default dropdown-toggle dropdown-icon","data-toggle":"dropdown",children:(0,r.jsx)("span",{className:"sr-only",children:"Toggle Dropdown"})}),(0,r.jsx)("div",{className:"dropdown-menu",role:"menu",children:(0,r.jsx)(a.rU,{className:"dropdown-item",to:"".concat(l).concat(c,"/").concat(e.cell.value),children:"Detail"})})]})}},{Header:"Title",accessor:"title"},{Header:"pgcode",accessor:"pgcode"},{Header:"keyid",accessor:"keyid"},{Header:"mid",accessor:"mid"},{Header:"secretkey",accessor:"secretkey"},{Header:"configs",accessor:"configs"}]};t.ZP={redirectAfterCreate:c,redirectAfterDelete:s,detailPageUrl:function(e){return"/".concat(o,"/detail/").concat(e)},upsertPageUrl:u,createNewButtonLabel:f,createPageTitle:"Buat Pgateway",listallPageTitle:p,detailPageTitle:h,detailService:g,listallService:b,deleteService:_,upsertService:v,fields:y,getColumns:P,listallPageUrl:d}},34925:function(e,t,n){n.d(t,{AJ:function(){return u},O_:function(){return _},PI:function(){return v},PS:function(){return d},Pu:function(){return A},XU:function(){return P},Yo:function(){return b},_W:function(){return m},dV:function(){return p},ny:function(){return g},oj:function(){return h},uX:function(){return f},wo:function(){return y}});n(72791);var a=n(91523),i=n(16585),r=n(80184),l=i.Z.basePath,o=i.Z.appName,c="tokoonline",s="/tokoonline/detail",u="/"+c,d=function(e){return"/".concat(c,"/upsert").concat(e?"/"+e:"")},f=function(){return"/".concat(c)},p="Buat Baru",h="Daftar Toko",m="Toko Detail",g="Form "+o,v="upsertTokoTokoOnline",b="getDetailTokoTokoOnline",_="getAllTokoTokoOnlines",y="deleteTokoTokoOnline",P="_id,name,pgateway_id{_id,title,keyid,mid,secretkey,configs},template,image_ids{_id, filename, filenameorigin, file_type},logo{_id, filename, filenameorigin, file_type},address,email,template,plink_merchant_secret_key,province,city,subcity,slug,plink_merchant_id,plink_merchant_key_id,status,website,facebook,instagram,youtube,description,created_at,updated_at,owner{_id,full_name,email},created_by{full_name},updated_by{full_name}",A=function(e){return[{Header:" ",accessor:"_id",Cell:function(e){return(0,r.jsxs)("div",{className:"btn-group",children:[(0,r.jsx)("button",{type:"button",className:"btn btn-default dropdown-toggle dropdown-icon","data-toggle":"dropdown",children:(0,r.jsx)("span",{className:"sr-only",children:"Toggle Dropdown"})}),(0,r.jsx)("div",{className:"dropdown-menu",role:"menu",children:(0,r.jsx)(a.rU,{className:"dropdown-item",to:"".concat(l).concat(s,"/").concat(e.cell.value),children:"Detail"})})]})}},{Header:"Nama",accessor:"name"},{Header:"website",accessor:"website"},{Header:"facebook",accessor:"facebook"},{Header:"instagram",accessor:"instagram"},{Header:"youtube",accessor:"youtube"},{Header:"status",accessor:"status"},{Header:"Pemilik",accessor:"owner.full_name"}]};t.ZP={redirectAfterCreate:s,redirectAfterDelete:u,detailPageUrl:function(e){return"/".concat(c,"/detail/").concat(e)},upsertPageUrl:d,createNewButtonLabel:p,createPageTitle:"Buat Baru",listallPageTitle:h,detailPageTitle:m,upsertPageTitle:g,createService:"createTokoTokoOnline",detailService:b,upsertService:v,listallService:_,deleteService:y,fields:P,getColumns:A,listallPageUrl:f}},52143:function(e,t,n){n.r(t);var a=n(72791),i=n(9571),r=n(78881),l=n(76514),o=n(56366),c=n(11480),s=n(1851),u=n(16585),d=n(34925),f=n(35326),p=n(80184);function h(e,t,n,a,i,r,l){return(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("label",{htmlFor:e,children:t}),(0,p.jsx)("input",{type:n,className:"form-control",id:e,placeholder:"Masukkan ".concat(t),value:"undefined"!==typeof i[e]?i[e]:a[e]||"",onChange:function(t){return r({serviceName:l,fieldName:e,fieldValue:t.target.value})}})]})}var m=function(e){var t=e.tablepaginationOnChangeForm,n=e.dataDetail,r=e.payload,s=e.upsertServiceName,u=e.id,d=e.tablepaginationResetForm,m=e.userPrivileges,g=e.fileArray,v=e.formTitle;return a.useEffect((function(){var e={};u&&(e._id=u),d({isInitialReset:!0,serviceName:s,defaultFormValue:e})}),[d,s,u]),(0,p.jsx)("div",{className:"row",children:(0,p.jsx)("div",{className:"col-sm-6",children:(0,p.jsxs)(i.As,{formTitle:v,children:[h("name","Nama Toko","text",n,r,t,s),m.includes("FIELD-TOKO-OWNER-EMAIL")&&(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("label",{htmlFor:"owner",children:"Email pemilik Toko"}),(0,p.jsx)("input",{type:"text",className:"form-control",id:"owner",placeholder:"Masukkan Email pemilik Toko",value:"undefined"!==typeof r.owner?r.owner:(n.owner||{}).email,onChange:function(e){return t({serviceName:s,fieldName:"owner",fieldValue:e.target.value})}})]}),h("website","Website","text",n,r,t,s),h("facebook","Facebook","text",n,r,t,s),h("instagram","Instagram","text",n,r,t,s),h("youtube","Youtube","text",n,r,t,s),h("email","Email Toko","text",n,r,t,s),{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TAPTALK_SECRET:"06c17097010c84bc9d4422859f1d89e30d6c4384604f427c2981753a4c283db9",REACT_APP_BACKEND_BASE_URL:"",REACT_APP_BASE_URL:"",REACT_APP_BASE_URL_PRODUCTION:"https://dashboard.plink.co.id",REACT_APP_BASE_URL_STAGING:"https://dashboard-staging.plink.co.id",REACT_APP_PAY_DONATION_LINK_URL:"https://secure2-dev.plink.co.id",REACT_APP_DEV_HOST_PROXY:"https://dashboard-staging.plink.co.id",REACT_APP_PAYMENT_LINK_REDIRECTION_ENDPOINT:"/paymentpage/web/payment-page/payment-step1",REACT_APP_HOMEPAGE_PATH:"/dashboard-ecomm",REACT_APP_APP_NAME:"PLINKLite Dev",REACT_APP_GRAPHQL_PATH:"/fmpkcxgwv4zuecddsnk65htcrvnt9ae4jc3h58b4",REACT_APP_COPYRIGH:"\xa9 2020 PT. Prismalink International",REACT_APP_CURRENCY:"IDR",REACT_APP_HMACKEY:"QsXtEtYmuPdBUFvtS4DSsmm52v6MaMvWf7Er7Eth"}.REACT_APP_SHOW_FORMFIELD_LOGO&&h("template","Template","text",n,r,t,s),(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("label",{htmlFor:"description",children:"Tuliskan deskripsi toko"}),(0,p.jsx)(l.B,{placeholder:" ",forProcess:"undefined"!==typeof u?"update":"create",dataId:u,defaultValue:"undefined"!==typeof r.description?r.description:n.description,onChange:function(e){return t({serviceName:s,fieldName:"description",fieldValue:e})},idElement:"description"})]}),m.includes("FIELD-TOKO-PGATEWAY")&&(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("label",{htmlFor:"pgateway_id",children:"Pilih Payment Gateway"}),(0,p.jsx)("br",{}),(0,p.jsx)(i.J,{isMulti:!1,className:"form-control",label:"Pilih Payment Gateway",labelButton:"Pilih",labelColumn:"Pilih",placeholder:"Pilih",optionColumnValue:"_id",optionColumnLabel:"title",payloadValue:r.pgateway_id,defaultValueOriginal:n.pgateway_id,getColumns:function(e){e.onChange;return[]},listallServiceName:f.ZP.listallService,fields:f.ZP.fields,onChange:function(e){var n=e.val;t({serviceName:s,fieldName:"pgateway_id",fieldValue:n})}})]}),{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TAPTALK_SECRET:"06c17097010c84bc9d4422859f1d89e30d6c4384604f427c2981753a4c283db9",REACT_APP_BACKEND_BASE_URL:"",REACT_APP_BASE_URL:"",REACT_APP_BASE_URL_PRODUCTION:"https://dashboard.plink.co.id",REACT_APP_BASE_URL_STAGING:"https://dashboard-staging.plink.co.id",REACT_APP_PAY_DONATION_LINK_URL:"https://secure2-dev.plink.co.id",REACT_APP_DEV_HOST_PROXY:"https://dashboard-staging.plink.co.id",REACT_APP_PAYMENT_LINK_REDIRECTION_ENDPOINT:"/paymentpage/web/payment-page/payment-step1",REACT_APP_HOMEPAGE_PATH:"/dashboard-ecomm",REACT_APP_APP_NAME:"PLINKLite Dev",REACT_APP_GRAPHQL_PATH:"/fmpkcxgwv4zuecddsnk65htcrvnt9ae4jc3h58b4",REACT_APP_COPYRIGH:"\xa9 2020 PT. Prismalink International",REACT_APP_CURRENCY:"IDR",REACT_APP_HMACKEY:"QsXtEtYmuPdBUFvtS4DSsmm52v6MaMvWf7Er7Eth"}.REACT_APP_SHOW_FORMFIELD_LOGO&&(0,p.jsx)(o.R,{fileArray:g.image_ids,currentFileIds:n.image_ids,label:"Logo",multiple:!1,onChange:function(e){var n=e.currentFileIds,a=e.newFiles;t({serviceName:s,fieldName:"image_ids",fieldValue:n.map((function(e){return e._id}))}),t({serviceName:s,fieldName:"image_ids",type:"file",fieldValue:a})}}),(0,p.jsx)(c.eZ,{withLabel:!0,defaultValue:"undefined"!==typeof r.province?r.province:n.province||"",onChange:function(e){t({serviceName:s,fieldName:"province",fieldValue:e})}}),(0,p.jsx)(c.hx,{withLabel:!0,defaultValue:"undefined"!==typeof r.city?r.city:n.city||"",provinceId:"undefined"!==typeof r.province?r.province:n.province||"",onChange:function(e){t({serviceName:s,fieldName:"city",fieldValue:e})}}),(0,p.jsx)(c.Kp,{withLabel:!0,defaultValue:"undefined"!==typeof r.subcity?r.subcity:n.subcity||"",cityId:"undefined"!==typeof r.city?r.city:n.city||"",onChange:function(e){t({serviceName:s,fieldName:"subcity",fieldValue:e})}})]})})})};t.default=(0,s.ZP)((function(e){var t=e.match;return(0,p.jsx)(r.Z,{pageTitle:d.ny,breadcrumb:[{title:"Beranda",link:u.Z.appHomePage},{title:d.oj,link:(0,d.uX)()},{title:d.ny,link:null,isActive:!0}],contentHeaderTitle:d.ny,isNeedLoggedin:!0,children:(0,p.jsx)("div",{className:"row",children:(0,p.jsx)("div",{className:"col-md-12",children:(0,p.jsx)(i.F,{detailServiceName:d.Yo,upsertServiceName:d.PI,fields:d.XU,id:t.params._id,redirectAfterDelete:d.AJ,withoutWrapper:!0,children:(0,p.jsx)(m,{formTitle:d.ny,serviceName:d.Yo,match:t})})})})})}))},56366:function(e,t,n){n.d(t,{s:function(){return l},R:function(){return g}});var a=n(72791),i=n(16585),r=n(80184);var l=function(e){console.log("render DisplayPictures===",e);var t=e.deletePicture,n=e.deleteCurrentPicture,a=e.currentFileArray||[],l=e.fileArray||[];return(0,r.jsx)("div",{className:"form-group multi-preview",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:"row row-cols-3",children:[a.map((function(e,t){return(0,r.jsx)("div",{className:"col",style:{maxWidth:"50%"},children:(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("img",{width:"100%",src:"".concat(i.Z.hostBackend,"/api/renderfile/").concat(e.filename||"",".").concat(e.file_type||""),alt:"..."}),(0,r.jsx)("div",{className:"card-body",children:n&&(0,r.jsx)("button",{onClick:function(){return n(t)},type:"button",className:"btn btn-danger btn-block btn-sm",children:(0,r.jsx)("i",{className:"fa fa-trash"})})})]})},t)})),l.map((function(e,n){return(0,r.jsx)("div",{className:"col",style:{maxWidth:"50%"},children:(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("img",{width:"100%",src:URL.createObjectURL(e),alt:"..."}),(0,r.jsx)("div",{className:"card-body",children:t&&(0,r.jsx)("button",{onClick:function(){return t(n)},type:"button",className:"btn btn-danger btn-block btn-sm",children:(0,r.jsx)("i",{className:"fa fa-trash"})})})]})},n)}))]})})})},o=n(93433),c=n(15671),s=n(43144),u=n(97326),d=n(60136),f=n(54062),p=n(72606),h=n(1851),m=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){var a;return(0,c.Z)(this,n),(a=t.call(this,e)).state={currentFileArray:[]},a.setCurrentFileArray=a.setCurrentFileArray.bind((0,u.Z)(a)),a}return(0,s.Z)(n,[{key:"setCurrentFileArray",value:function(e){this.setState({currentFileArray:e})}},{key:"componentDidMount",value:function(){this.setCurrentFileArray(this.props.currentFileIds||[])}},{key:"render",value:function(){var e=this,t=this.props;console.log("render PictureUploadComp===",t);var n=t.multiple,a=t.onChange,i=t.label,c=t.buttonLabel,s=this.state.currentFileArray,u=this.props.fileArray||[];return(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"fileUploadInput",children:i}),(0,r.jsx)("div",{className:"input-group",style:{zIndex:0},children:(0,r.jsxs)("label",{className:"btn btn-default",children:[(0,r.jsx)(p.Z,{id:c||"label-addpicture"}),(0,r.jsx)("input",{type:"file",className:"custom-file-input",id:"fileUploadInput",onChange:function(e){var t=[];t.push(e.target.files);for(var n=0;n<t[0].length;n++)console.log("image ke "+n),u=[].concat((0,o.Z)(u),[t[0][n]]);a({currentFileIds:s,newFiles:u})},multiple:n,hidden:!0})]})}),(0,r.jsx)("hr",{}),(0,r.jsx)(l,{currentFileArray:s,fileArray:u,deleteCurrentPicture:function(t){console.log("delete index ",t);for(var n=[],i=0;i<s.length;i++)t!==i&&n.push(s[i]);e.setCurrentFileArray(n),a({currentFileIds:n,newFiles:u})},deletePicture:function(e){console.log("delete index ",e);for(var t=[],n=0;n<u.length;n++)e!==n&&t.push(u[n]);a({currentFileIds:s,newFiles:t})}})]})}}]),n}(a.PureComponent),g=(0,h.ZP)(m)},11480:function(e,t,n){n.d(t,{hx:function(){return d},w0:function(){return h},Sg:function(){return p},eZ:function(){return u},Kp:function(){return f}});var a=n(29439),i=n(72791),r=n(763),l=n.n(r),o=n(16585),c=n(38626),s=n(80184);var u=function(e){var t=e.defaultValue,n=e.onChange,r=e.disabled,u=e.forProcess,d=e.withLabel,f=i.useState(!1),p=(0,a.Z)(f,2),h=p[0],m=p[1],g=i.useState(null),v=(0,a.Z)(g,2),b=v[0],_=v[1],y=i.useState([]),P=(0,a.Z)(y,2),A=P[0],x=P[1],k=function(e){m(!0),fetch(o.Z.hostBackend+"/api/v1/fetchdata-province",{method:"GET",headers:{key:"a6d84c88b9fc6cbdf502972c57885da1"}}).then((function(e){return e.json()})).then((function(e){var t=null;if(e&&!e.error||(t="Gagal load data. Klik untuk reload"),m(!1),_(t),e.list_data)return x((e.list_data||[]).map((function(e){return{province_id:e.province_code,province:e.province_name}})));x(((e||{}).rajaongkir||{}).results||[])})).catch((function(e){return _("Gagal load data. Klik untuk reload")})).finally((function(){e&&m(!1)}))};(0,i.useEffect)((function(){var e=!0;return 0===A.length&&k(e),function(){e=!1}}),[t,u,A.length]);var j=function(){return h?(0,s.jsx)(c.Z,{loading:!0,type:"rpmerah"}):b?(0,s.jsx)("button",{onClick:function(e){return k()},type:"button",className:"btn bg-gradient-danger btn-xs",children:b}):"display"===u?(0,s.jsx)("span",{children:(l().find(A,{province_id:t})||{}).province||"-"}):(0,s.jsxs)("select",{name:"province",value:t,id:"province",className:"custom-select",onChange:function(e){return n(e.target.value)},disabled:r,children:[(0,s.jsx)("option",{value:"-",children:"pilih"}),A.map((function(e,t){return(0,s.jsx)("option",{value:e.province_id,children:e.province},t)}))]})};return!h&&A.length<=0&&!b?"display"===u?"-":null:d?(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"province",children:"Provinsi"}),j()]}):j()};var d=function(e){var t=e.defaultValue,n=e.onChange,r=e.provinceId,u=e.disabled,d=e.forProcess,f=e.withLabel,p=i.useState(!1),h=(0,a.Z)(p,2),m=h[0],g=h[1],v=i.useState(""),b=(0,a.Z)(v,2),_=b[0],y=b[1],P=i.useState(null),A=(0,a.Z)(P,2),x=A[0],k=A[1],j=i.useState([]),C=(0,a.Z)(j,2),N=C[0],E=C[1],T=(0,i.useCallback)((function(e){g(!0),y(r),Promise.all([fetch(o.Z.hostBackend+"/api/v1/fetchdata-city?province="+r,{method:"GET",headers:{key:"a6d84c88b9fc6cbdf502972c57885da1"}}).then((function(e){return e.json()})).then((function(e){var t=null;if(e&&!e.error||(t="Gagal load data. Klik untuk reload"),k(t),e.list_data)return E((e.list_data||[]).map((function(e){return{city_id:e.city_code,city_name:e.city_name}})));E(((e||{}).rajaongkir||{}).results||[])})).catch((function(e){return k("Gagal load data. Klik untuk reload")})).finally((function(){return g(!1)}))]).then((function(){})).catch((function(e){return console.error(e)}))}),[r]);(0,i.useEffect)((function(){var e=new AbortController;return"display"===d&&l().isEmpty(t)||r&&r!==_&&T(),function(){return e.abort()}}),[r,d,t,T,_]);var w=function(){return m?(0,s.jsx)(c.Z,{loading:!0,type:"rpmerah"}):x?(0,s.jsx)("button",{onClick:function(e){return T()},type:"button",className:"btn bg-gradient-danger btn-xs",children:x}):"display"===d?(0,s.jsx)("span",{children:(l().find(N,{city_id:t})||{}).city_name||"-"}):(0,s.jsxs)("select",{name:"city",value:t,id:"city",className:"custom-select",onChange:function(e){return n(e.target.value)},disabled:u,children:[(0,s.jsx)("option",{value:"-",children:"pilih"}),N.map((function(e,t){return(0,s.jsx)("option",{value:e.city_id,children:e.city_name},t)}))]})};return!m&&N.length<=0&&!x?"display"===d?"-":null:f?(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"city",children:"Kota/Kabupaten"}),w()]}):w()};var f=function(e){var t=e.defaultValue,n=e.onChange,r=e.cityId,u=e.disabled,d=e.forProcess,f=e.withLabel,p=i.useState(!1),h=(0,a.Z)(p,2),m=h[0],g=h[1],v=i.useState(""),b=(0,a.Z)(v,2),_=b[0],y=b[1],P=i.useState(null),A=(0,a.Z)(P,2),x=A[0],k=A[1],j=i.useState([]),C=(0,a.Z)(j,2),N=C[0],E=C[1],T=(0,i.useCallback)((function(){g(!0),y(r),Promise.all([fetch(o.Z.hostBackend+"/api/v1/fetchdata-subcity?city="+r,{method:"GET",headers:{key:"a6d84c88b9fc6cbdf502972c57885da1"}}).then((function(e){return e.json()})).then((function(e){var t=null;if(e&&!e.error||(t="Gagal load data. Klik untuk reload"),k(t),g(!1),e.list_data)return E((e.list_data||[]).map((function(e){return{subdistrict_id:e.subcity_code,subdistrict_name:e.subcity_name}})));E(((e||{}).rajaongkir||{}).results||[])})).catch((function(e){return k("Gagal load data. Klik untuk reload")})).finally((function(){return g(!1)}))]).then((function(){})).catch((function(e){return console.error(e)}))}),[r]);(0,i.useEffect)((function(){var e=new AbortController;return"display"===d&&l().isEmpty(t)||r&&r!==_&&T(),function(){return e.abort()}}),[r,t,T,d,_]);var w=function(){return m?(0,s.jsx)(c.Z,{loading:!0,type:"rpmerah"}):x?(0,s.jsx)("button",{onClick:function(e){return T()},type:"button",className:"btn bg-gradient-danger btn-xs",children:x}):"display"===d?(0,s.jsx)("span",{children:(l().find(N,{subdistrict_id:t})||{}).subdistrict_name||"-"}):(0,s.jsxs)("select",{name:"subcity",value:t,id:"subcity",className:"custom-select",onChange:function(e){return n(e.target.value)},disabled:u,children:[(0,s.jsx)("option",{value:"-",children:"pilih"}),N.map((function(e,t){return(0,s.jsx)("option",{value:e.subdistrict_id,children:e.subdistrict_name},t)}))]})};return!m&&N.length<=0&&!x?"display"===d?"-":null:f?(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"subcity",children:"Kecamatan"}),w()]}):w()};var p=function(e){var t=e.defaultValue,n=e.onChange,r=e.subcityId,o=e.disabled,u=e.forProcess,d=e.withLabel,f=i.useState(!1),p=(0,a.Z)(f,2),h=p[0],m=p[1],g=i.useState(""),v=(0,a.Z)(g,2),b=v[0],_=v[1],y=i.useState(null),P=(0,a.Z)(y,1)[0],A=i.useState([]),x=(0,a.Z)(A,2),k=x[0],j=x[1],C=(0,i.useCallback)((function(){m(!0),_(r),console.log("subcityIdsubcityIdsubcityIdsubcityId=>",r),j("undefined"!==typeof r&&""!==r?[{value:"jne",label:"jne"},{value:"jnt",label:"jnt"},{value:"tiki",label:"tiki"},{value:"sicepat",label:"sicepat"},{value:"wahana",label:"wahana"},{value:"ninja",label:"ninja"},{value:"pos",label:"pos"}]:[]),m(!1)}),[r]);(0,i.useEffect)((function(){var e=new AbortController;return"display"===u&&l().isEmpty(t)||r&&r!==b&&C(),function(){return e.abort()}}),[r,t,C,u,b]);var N=function(){return h?(0,s.jsx)(c.Z,{loading:!0,type:"rpmerah"}):P?(0,s.jsx)("button",{onClick:function(e){return C()},type:"button",className:"btn bg-gradient-danger btn-xs",children:P}):"display"===u?(0,s.jsx)("span",{children:(l().find(k,{value:t})||{}).label||"-"}):(0,s.jsxs)("select",{name:"shipping_currier_vendor",value:t,id:"shipping_currier_vendor",className:"custom-select",onChange:function(e){return n(e.target.value)},disabled:o,children:[(0,s.jsx)("option",{value:"-",children:"pilih"}),k.map((function(e,t){return(0,s.jsx)("option",{value:e.value,children:e.label},t)}))]})};return!h&&k.length<=0&&!P?"display"===u?"-":null:d?(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"shipping_currier_vendor",children:"Kurir Vendor"}),N()]}):N()};var h=function(e){var t=e.tokoSubcity,n=e.shippingSubcity,r=e.weight,u=e.defaultValue,d=e.onChange,f=e.currierVendorId,p=e.disabled,h=e.forProcess,m=e.withLabel,g=i.useState(!1),v=(0,a.Z)(g,2),b=v[0],_=v[1],y=i.useState(""),P=(0,a.Z)(y,2),A=P[0],x=P[1],k=i.useState(null),j=(0,a.Z)(k,2),C=j[0],N=j[1],E=i.useState([]),T=(0,a.Z)(E,2),w=T[0],S=T[1],R=(0,i.useCallback)((function(){if(_(!0),x(f),"undefined"!==typeof f&&""!==f){var e={origin:t,originType:"subdistrict",destinationType:"subdistrict",destination:n,weight:parseFloat(r),courier:f};console.log("bodybody=>",e),Promise.all([fetch(o.Z.hostBackend+"/api/v1/fetchdata-cost",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e&&!e.error||N("Gagal load data. Klik untuk reload");var t=null,n=(((e||{}).rajaongkir||{}).status||{}).code,a=(((e||{}).rajaongkir||{}).status||{}).description;200!==n&&(t=(a||"").includes("Weight harus lebih besar dari 0")?"Berat barang tidak boleh kurang dari 1 Gram.":a),t?(N(t),alert(t)):N(null),_(!1);var i=(((e||{}).rajaongkir||{}).results[0]||{}).costs;S(i.map((function(e){return{value:e.service,label:e.service,origin:e}})))})).catch((function(e){return N("Gagal load data. Klik untuk reload")})).finally((function(){return _(!1)}))]).then((function(){})).catch((function(e){return console.error(e)}))}else S([]),_(!1)}),[f,n,t,r]);(0,i.useEffect)((function(){var e=new AbortController;return"display"===h&&l().isEmpty(u)||f&&f!==A&&R(),function(){return e.abort()}}),[f,u,R,h,A]);var I=function(){return b?(0,s.jsx)(c.Z,{loading:!0,type:"rpmerah"}):C?(0,s.jsx)("button",{onClick:function(e){return R()},type:"button",className:"btn bg-gradient-danger btn-xs",children:C}):"display"===h?(0,s.jsx)("span",{children:(l().find(w,{value:u})||{}).label||"-"}):(0,s.jsxs)("select",{name:"shipping_currier",value:u,id:"shipping_currier",className:"custom-select",onChange:function(e){return d(e.target.value,w)},disabled:p,children:[(0,s.jsx)("option",{value:"-",children:"pilih"}),w.map((function(e,t){return(0,s.jsx)("option",{value:e.value,children:e.label},t)}))]})};return!b&&w.length<=0&&!C?"display"===h?"-":null:m?(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"shipping_currier",children:"Kurir"}),I()]}):I()}},76514:function(e,t,n){n.d(t,{B:function(){return o}});var a=n(72791),i=n(16585),r=n(85545),l=n(80184);var o=function(e){var t=e.placeholder,n=e.textEditor,o=e.defaultValue,c=e.initValue,s=e.onChange,u=e.idElement,d=e.dataId;return(0,a.useEffect)((function(){if(console.log("valuevaluevalue initValue=>",c),console.log("valuevaluevalue id=>",d),n){"undefined"!==typeof d&&"undefined"!==typeof o&&(console.log("valuevaluevalue reloadddd=>",o),window.activateEditorV2({idElement:u,hostBackend:i.Z.hostBackend,at:(0,r.hP)(),cb:function(e){s(e)},isReset:false,defaultValue:o})),"undefined"===typeof d&&window.activateEditorV2({idElement:u,hostBackend:i.Z.hostBackend,at:(0,r.hP)(),cb:function(e){s(e)},isReset:false,defaultValue:o})}}),[o,d,u,s,n,c]),"undefined"===typeof d||d?(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-12",children:(0,l.jsxs)("div",{style:{position:"relative"},children:[n&&(0,l.jsx)("div",{style:{backgroundColor:"black",position:"absolute",width:"100%",height:"100%",top:0},children:(0,l.jsx)("center",{children:(0,l.jsx)("span",{style:{color:"green",fontSize:30,marginTop:200},children:"Gambar sedang diupload..."})})}),(0,l.jsx)("div",{id:"texareaWrapper",style:{width:"100%",height:"100%",backgroundColor:"black",opacity:1},children:(0,l.jsx)("textarea",{className:"textarea",id:u,placeholder:t||"Isi keterangan",value:o,style:{width:"100%"},onChange:function(e){return s(e.target.value)}})})]})})}):null}}}]);
//# sourceMappingURL=2143.899ba034.chunk.js.map