"use strict";(self.webpackChunkprismatech_webapp=self.webpackChunkprismatech_webapp||[]).push([[1918],{34925:function(e,t,n){n.d(t,{AJ:function(){return d},O_:function(){return g},PI:function(){return P},PS:function(){return u},Pu:function(){return T},XU:function(){return v},Yo:function(){return b},_W:function(){return f},dV:function(){return h},ny:function(){return m},oj:function(){return p},uX:function(){return _},wo:function(){return A}});n(72791);var r=n(91523),a=n(16585),i=n(80184),l=a.Z.basePath,c=a.Z.appName,o="tokoonline",s="/tokoonline/detail",d="/"+o,u=function(e){return"/".concat(o,"/upsert").concat(e?"/"+e:"")},_=function(){return"/".concat(o)},h="Buat Baru",p="Daftar Toko",f="Toko Detail",m="Form "+c,P="upsertTokoTokoOnline",b="getDetailTokoTokoOnline",g="getAllTokoTokoOnlines",A="deleteTokoTokoOnline",v="_id,name,pgateway_id{_id,title,keyid,mid,secretkey,configs},template,image_ids{_id, filename, filenameorigin, file_type},logo{_id, filename, filenameorigin, file_type},address,email,template,plink_merchant_secret_key,province,city,subcity,slug,plink_merchant_id,plink_merchant_key_id,status,website,facebook,instagram,youtube,description,created_at,updated_at,owner{_id,full_name,email},created_by{full_name},updated_by{full_name}",T=function(e){return[{Header:" ",accessor:"_id",Cell:function(e){return(0,i.jsxs)("div",{className:"btn-group",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-default dropdown-toggle dropdown-icon","data-toggle":"dropdown",children:(0,i.jsx)("span",{className:"sr-only",children:"Toggle Dropdown"})}),(0,i.jsx)("div",{className:"dropdown-menu",role:"menu",children:(0,i.jsx)(r.rU,{className:"dropdown-item",to:"".concat(l).concat(s,"/").concat(e.cell.value),children:"Detail"})})]})}},{Header:"Nama",accessor:"name"},{Header:"website",accessor:"website"},{Header:"facebook",accessor:"facebook"},{Header:"instagram",accessor:"instagram"},{Header:"youtube",accessor:"youtube"},{Header:"status",accessor:"status"},{Header:"Pemilik",accessor:"owner.full_name"}]};t.ZP={redirectAfterCreate:s,redirectAfterDelete:d,detailPageUrl:function(e){return"/".concat(o,"/detail/").concat(e)},upsertPageUrl:u,createNewButtonLabel:h,createPageTitle:"Buat Baru",listallPageTitle:p,detailPageTitle:f,upsertPageTitle:m,createService:"createTokoTokoOnline",detailService:b,upsertService:P,listallService:g,deleteService:A,fields:v,getColumns:T,listallPageUrl:_}},51918:function(e,t,n){n.r(t);n(72791);var r=n(72606),a=n(1851),i=n(56366),l=n(9571),c=n(11480),o=n(78881),s=n(34925),d=n(89578),u=n(72426),_=n.n(u),h=n(16585),p=n(80184),f=function(e){var t=e.dataDetail,n=e.formTitle,a=e.serviceName,o=_()(t.created_at||0);o=t.created_at&&o.isValid()?o.format("YYYY-MM-DD HH:mm:ss"):"-";var s=_()(t.updated_at||0);s=t.updated_at&&s.isValid()?s.format("YYYY-MM-DD HH:mm:ss"):"-";var d=t.status;return d="active"===d?"Aktif":"inactive"===d?"Tidak Aktif":"-",(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:"row",children:(0,p.jsx)("div",{className:"col-sm-6",children:(0,p.jsx)(l.As,{serviceName:a,formTitle:n,children:(0,p.jsxs)("dl",{children:[(0,p.jsx)("dt",{children:"Id Toko"}),(0,p.jsx)("dd",{children:t._id||"-"}),(0,p.jsx)("dt",{children:"Nama Toko"}),(0,p.jsx)("dd",{children:t.name||"-"}),(0,p.jsx)("dt",{children:"Slug"}),(0,p.jsx)("dd",{children:t.slug}),(0,p.jsx)("dt",{children:"Pemilik"}),(0,p.jsx)("dd",{children:(t.owner||{}).full_name||"-"}),(0,p.jsx)("dt",{children:"Website"}),(0,p.jsx)("dd",{children:t.website||"-"}),{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TAPTALK_SECRET:"06c17097010c84bc9d4422859f1d89e30d6c4384604f427c2981753a4c283db9",REACT_APP_BACKEND_BASE_URL:"",REACT_APP_BASE_URL:"",REACT_APP_BASE_URL_PRODUCTION:"https://dashboard.plink.co.id",REACT_APP_BASE_URL_STAGING:"https://dashboard-staging.plink.co.id",REACT_APP_PAY_DONATION_LINK_URL:"https://secure2-dev.plink.co.id",REACT_APP_DEV_HOST_PROXY:"https://dashboard-staging.plink.co.id",REACT_APP_PAYMENT_LINK_REDIRECTION_ENDPOINT:"/paymentpage/web/payment-page/payment-step1",REACT_APP_HOMEPAGE_PATH:"/dashboard-ecomm",REACT_APP_APP_NAME:"PLINKLite Dev",REACT_APP_GRAPHQL_PATH:"/fmpkcxgwv4zuecddsnk65htcrvnt9ae4jc3h58b4",REACT_APP_COPYRIGH:"\xa9 2020 PT. Prismalink International",REACT_APP_CURRENCY:"IDR",REACT_APP_HMACKEY:"QsXtEtYmuPdBUFvtS4DSsmm52v6MaMvWf7Er7Eth"}.REACT_APP_SHOW_FORMFIELD_LOGO&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("dt",{children:"Template"}),(0,p.jsx)("dd",{children:t.template||"-"})]}),(0,p.jsx)("dt",{children:"Facebook"}),(0,p.jsx)("dd",{children:t.facebook||"-"}),(0,p.jsx)("dt",{children:"Instagram"}),(0,p.jsx)("dd",{children:t.instagram||"-"}),(0,p.jsx)("dt",{children:"Youtube"}),(0,p.jsx)("dd",{children:t.youtube||"-"}),(0,p.jsx)("dt",{children:"Email"}),(0,p.jsx)("dd",{children:t.email||"-"}),(0,p.jsx)("dt",{children:(0,p.jsx)(r.Z,{id:"label.storedescription"})}),(0,p.jsx)("dd",{children:t.description||"-"}),(0,p.jsx)("dt",{children:"Provinsi"}),(0,p.jsx)("dd",{children:(0,p.jsx)(c.eZ,{defaultValue:t.province,forProcess:"display"})}),(0,p.jsx)("dt",{children:"Kota/Kabupaten"}),(0,p.jsx)("dd",{children:(0,p.jsx)(c.hx,{defaultValue:t.city,provinceId:t.province,forProcess:"display"})}),(0,p.jsx)("dt",{children:"Kecamatan"}),(0,p.jsx)("dd",{children:(0,p.jsx)(c.Kp,{defaultValue:t.subcity,cityId:t.city,forProcess:"display"})}),(0,p.jsx)("dt",{children:"Status"}),(0,p.jsx)("dd",{children:d||"-"}),{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TAPTALK_SECRET:"06c17097010c84bc9d4422859f1d89e30d6c4384604f427c2981753a4c283db9",REACT_APP_BACKEND_BASE_URL:"",REACT_APP_BASE_URL:"",REACT_APP_BASE_URL_PRODUCTION:"https://dashboard.plink.co.id",REACT_APP_BASE_URL_STAGING:"https://dashboard-staging.plink.co.id",REACT_APP_PAY_DONATION_LINK_URL:"https://secure2-dev.plink.co.id",REACT_APP_DEV_HOST_PROXY:"https://dashboard-staging.plink.co.id",REACT_APP_PAYMENT_LINK_REDIRECTION_ENDPOINT:"/paymentpage/web/payment-page/payment-step1",REACT_APP_HOMEPAGE_PATH:"/dashboard-ecomm",REACT_APP_APP_NAME:"PLINKLite Dev",REACT_APP_GRAPHQL_PATH:"/fmpkcxgwv4zuecddsnk65htcrvnt9ae4jc3h58b4",REACT_APP_COPYRIGH:"\xa9 2020 PT. Prismalink International",REACT_APP_CURRENCY:"IDR",REACT_APP_HMACKEY:"QsXtEtYmuPdBUFvtS4DSsmm52v6MaMvWf7Er7Eth"}.REACT_APP_SHOW_FORMFIELD_PG&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("dt",{children:"Payment Gateway"}),(0,p.jsx)("dd",{children:(t.pgateway_id||{}).title||"-"})]}),{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TAPTALK_SECRET:"06c17097010c84bc9d4422859f1d89e30d6c4384604f427c2981753a4c283db9",REACT_APP_BACKEND_BASE_URL:"",REACT_APP_BASE_URL:"",REACT_APP_BASE_URL_PRODUCTION:"https://dashboard.plink.co.id",REACT_APP_BASE_URL_STAGING:"https://dashboard-staging.plink.co.id",REACT_APP_PAY_DONATION_LINK_URL:"https://secure2-dev.plink.co.id",REACT_APP_DEV_HOST_PROXY:"https://dashboard-staging.plink.co.id",REACT_APP_PAYMENT_LINK_REDIRECTION_ENDPOINT:"/paymentpage/web/payment-page/payment-step1",REACT_APP_HOMEPAGE_PATH:"/dashboard-ecomm",REACT_APP_APP_NAME:"PLINKLite Dev",REACT_APP_GRAPHQL_PATH:"/fmpkcxgwv4zuecddsnk65htcrvnt9ae4jc3h58b4",REACT_APP_COPYRIGH:"\xa9 2020 PT. Prismalink International",REACT_APP_CURRENCY:"IDR",REACT_APP_HMACKEY:"QsXtEtYmuPdBUFvtS4DSsmm52v6MaMvWf7Er7Eth"}.REACT_APP_SHOW_FORMFIELD_LOGO&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("dt",{children:"Logo"}),(0,p.jsx)("dd",{children:(0,p.jsx)(i.s,{currentFileArray:t.image_ids})})]}),(0,p.jsx)("dt",{children:"Diperbaharui Oleh"}),(0,p.jsx)("dd",{children:(t.updated_by||{}).full_name||"-"}),(0,p.jsx)("dt",{children:"Dibuat Oleh"}),(0,p.jsx)("dd",{children:(t.created_by||{}).full_name||"-"}),(0,p.jsx)("dt",{children:"Tanggal Pembuatan"}),(0,p.jsx)("dd",{children:o||"-"}),(0,p.jsx)("dt",{children:"Tanggal Diperbaharui"}),(0,p.jsx)("dd",{children:s||"-"})]})})})})})};t.default=(0,a.ZP)((function(e){var t=e.match,n=e.history;return(0,p.jsx)(o.Z,{pageTitle:s._W,breadcrumb:[{title:"Beranda",link:h.Z.appHomePage},{title:s.oj,link:(0,s.uX)()},{title:s._W,link:null,isActive:!0}],contentHeaderTitle:s._W,isNeedLoggedin:!0,children:(0,p.jsx)("div",{className:"row",children:(0,p.jsxs)("div",{className:"col-md-12",children:[(0,p.jsx)(l.F,{detailServiceName:s.Yo,deleteServiceName:s.wo,fields:s.XU,id:t.params._id,formTitle:s._W,redirectAfterDelete:s.AJ,updatePageUrl:(0,s.PS)(t.params._id),createPageUrl:(0,s.PS)(),withoutWrapper:!0,children:(0,p.jsx)(f,{serviceName:s.Yo,formTitle:s._W,history:n,match:t})}),(0,p.jsx)(l.iA,{listallServiceName:"getAllTokoTeamsByTokoId",fields:d.ZP.fields,columns:d.ZP.getColumns(n),cardTitle:d.ZP.listallPageTitle,whereCondition:JSON.stringify({toko_id:t.params._id})})]})})})}))},89578:function(e,t,n){n.d(t,{AJ:function(){return s},G9:function(){return o},O_:function(){return g},Pg:function(){return P},Pu:function(){return T},UU:function(){return d},XU:function(){return v},Yo:function(){return b},_W:function(){return f},dV:function(){return h},oj:function(){return p},r4:function(){return _},wo:function(){return A},x6:function(){return m},yG:function(){return u}});n(72791);var r=n(91523),a=n(16585),i=n(80184),l=a.Z.basePath,c="tokoteam",o=function(e){return"/tokoteam/detail/"+e},s=function(e){return"/tokoonline/detail/"+e},d=function(e){return"/".concat(c,"/detail/").concat(e)},u=function(e){return"/".concat(c,"/update/").concat(e)},_=function(){return"/".concat(c,"/create")},h="Create New TokoTeam",p="Toko Team",f="TokoTeam Detail",m="Update TokoTeam",P="updateTokoTeam",b="getDetailTokoTeam",g="getAllTokoTeams",A="deleteTokoTeam",v="_id,user_id{_id, full_name, email},toko_id{_id, name},role_id{_id, title},created_at,updated_at,created_by{full_name},updated_by{full_name}",T=function(e){e.history;var t=e.tokoId;return[{Header:" ",accessor:"_id",Cell:function(e){return(0,i.jsxs)("div",{className:"btn-group",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-default dropdown-toggle dropdown-icon","data-toggle":"dropdown",children:(0,i.jsx)("span",{className:"sr-only",children:"Toggle Dropdown"})}),(0,i.jsx)("div",{className:"dropdown-menu",role:"menu",children:(0,i.jsx)(r.rU,{className:"dropdown-item",to:"".concat(l).concat(o(t),"/").concat(e.cell.value),children:"Detail"})})]})}},{Header:"nama",accessor:"user_id.full_name"},{Header:"email",accessor:"user_id.email"}]};t.ZP={redirectAfterCreate:o,redirectAfterDelete:s,detailPageUrl:d,updatePageUrl:u,createPageUrl:_,createNewButtonLabel:h,createPageTitle:"Add a team member",listallPageTitle:p,detailPageTitle:f,updatePageTitle:m,createService:"createTokoTeam",detailService:b,updateService:P,listallService:g,deleteService:A,fields:v,getColumns:T}},56366:function(e,t,n){n.d(t,{s:function(){return l},R:function(){return m}});var r=n(72791),a=n(16585),i=n(80184);var l=function(e){console.log("render DisplayPictures===",e);var t=e.deletePicture,n=e.deleteCurrentPicture,r=e.currentFileArray||[],l=e.fileArray||[];return(0,i.jsx)("div",{className:"form-group multi-preview",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:"row row-cols-3",children:[r.map((function(e,t){return(0,i.jsx)("div",{className:"col",style:{maxWidth:"50%"},children:(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("img",{width:"100%",src:"".concat(a.Z.hostBackend,"/api/renderfile/").concat(e.filename||"",".").concat(e.file_type||""),alt:"..."}),(0,i.jsx)("div",{className:"card-body",children:n&&(0,i.jsx)("button",{onClick:function(){return n(t)},type:"button",className:"btn btn-danger btn-block btn-sm",children:(0,i.jsx)("i",{className:"fa fa-trash"})})})]})},t)})),l.map((function(e,n){return(0,i.jsx)("div",{className:"col",style:{maxWidth:"50%"},children:(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("img",{width:"100%",src:URL.createObjectURL(e),alt:"..."}),(0,i.jsx)("div",{className:"card-body",children:t&&(0,i.jsx)("button",{onClick:function(){return t(n)},type:"button",className:"btn btn-danger btn-block btn-sm",children:(0,i.jsx)("i",{className:"fa fa-trash"})})})]})},n)}))]})})})},c=n(93433),o=n(15671),s=n(43144),d=n(97326),u=n(60136),_=n(54062),h=n(72606),p=n(1851),f=function(e){(0,u.Z)(n,e);var t=(0,_.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).state={currentFileArray:[]},r.setCurrentFileArray=r.setCurrentFileArray.bind((0,d.Z)(r)),r}return(0,s.Z)(n,[{key:"setCurrentFileArray",value:function(e){this.setState({currentFileArray:e})}},{key:"componentDidMount",value:function(){this.setCurrentFileArray(this.props.currentFileIds||[])}},{key:"render",value:function(){var e=this,t=this.props;console.log("render PictureUploadComp===",t);var n=t.multiple,r=t.onChange,a=t.label,o=t.buttonLabel,s=this.state.currentFileArray,d=this.props.fileArray||[];return(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"fileUploadInput",children:a}),(0,i.jsx)("div",{className:"input-group",style:{zIndex:0},children:(0,i.jsxs)("label",{className:"btn btn-default",children:[(0,i.jsx)(h.Z,{id:o||"label-addpicture"}),(0,i.jsx)("input",{type:"file",className:"custom-file-input",id:"fileUploadInput",onChange:function(e){var t=[];t.push(e.target.files);for(var n=0;n<t[0].length;n++)console.log("image ke "+n),d=[].concat((0,c.Z)(d),[t[0][n]]);r({currentFileIds:s,newFiles:d})},multiple:n,hidden:!0})]})}),(0,i.jsx)("hr",{}),(0,i.jsx)(l,{currentFileArray:s,fileArray:d,deleteCurrentPicture:function(t){console.log("delete index ",t);for(var n=[],a=0;a<s.length;a++)t!==a&&n.push(s[a]);e.setCurrentFileArray(n),r({currentFileIds:n,newFiles:d})},deletePicture:function(e){console.log("delete index ",e);for(var t=[],n=0;n<d.length;n++)e!==n&&t.push(d[n]);r({currentFileIds:s,newFiles:t})}})]})}}]),n}(r.PureComponent),m=(0,p.ZP)(f)},11480:function(e,t,n){n.d(t,{hx:function(){return u},w0:function(){return p},Sg:function(){return h},eZ:function(){return d},Kp:function(){return _}});var r=n(29439),a=n(72791),i=n(763),l=n.n(i),c=n(16585),o=n(38626),s=n(80184);var d=function(e){var t=e.defaultValue,n=e.onChange,i=e.disabled,d=e.forProcess,u=e.withLabel,_=a.useState(!1),h=(0,r.Z)(_,2),p=h[0],f=h[1],m=a.useState(null),P=(0,r.Z)(m,2),b=P[0],g=P[1],A=a.useState([]),v=(0,r.Z)(A,2),T=v[0],j=v[1],x=function(e){f(!0),fetch(c.Z.hostBackend+"/api/v1/fetchdata-province",{method:"GET",headers:{key:"a6d84c88b9fc6cbdf502972c57885da1"}}).then((function(e){return e.json()})).then((function(e){var t=null;if(e&&!e.error||(t="Gagal load data. Klik untuk reload"),f(!1),g(t),e.list_data)return j((e.list_data||[]).map((function(e){return{province_id:e.province_code,province:e.province_name}})));j(((e||{}).rajaongkir||{}).results||[])})).catch((function(e){return g("Gagal load data. Klik untuk reload")})).finally((function(){e&&f(!1)}))};(0,a.useEffect)((function(){var e=!0;return 0===T.length&&x(e),function(){e=!1}}),[t,d,T.length]);var y=function(){return p?(0,s.jsx)(o.Z,{loading:!0,type:"rpmerah"}):b?(0,s.jsx)("button",{onClick:function(e){return x()},type:"button",className:"btn bg-gradient-danger btn-xs",children:b}):"display"===d?(0,s.jsx)("span",{children:(l().find(T,{province_id:t})||{}).province||"-"}):(0,s.jsxs)("select",{name:"province",value:t,id:"province",className:"custom-select",onChange:function(e){return n(e.target.value)},disabled:i,children:[(0,s.jsx)("option",{value:"-",children:"pilih"}),T.map((function(e,t){return(0,s.jsx)("option",{value:e.province_id,children:e.province},t)}))]})};return!p&&T.length<=0&&!b?"display"===d?"-":null:u?(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"province",children:"Provinsi"}),y()]}):y()};var u=function(e){var t=e.defaultValue,n=e.onChange,i=e.provinceId,d=e.disabled,u=e.forProcess,_=e.withLabel,h=a.useState(!1),p=(0,r.Z)(h,2),f=p[0],m=p[1],P=a.useState(""),b=(0,r.Z)(P,2),g=b[0],A=b[1],v=a.useState(null),T=(0,r.Z)(v,2),j=T[0],x=T[1],y=a.useState([]),E=(0,r.Z)(y,2),k=E[0],C=E[1],N=(0,a.useCallback)((function(e){m(!0),A(i),Promise.all([fetch(c.Z.hostBackend+"/api/v1/fetchdata-city?province="+i,{method:"GET",headers:{key:"a6d84c88b9fc6cbdf502972c57885da1"}}).then((function(e){return e.json()})).then((function(e){var t=null;if(e&&!e.error||(t="Gagal load data. Klik untuk reload"),x(t),e.list_data)return C((e.list_data||[]).map((function(e){return{city_id:e.city_code,city_name:e.city_name}})));C(((e||{}).rajaongkir||{}).results||[])})).catch((function(e){return x("Gagal load data. Klik untuk reload")})).finally((function(){return m(!1)}))]).then((function(){})).catch((function(e){return console.error(e)}))}),[i]);(0,a.useEffect)((function(){var e=new AbortController;return"display"===u&&l().isEmpty(t)||i&&i!==g&&N(),function(){return e.abort()}}),[i,u,t,N,g]);var R=function(){return f?(0,s.jsx)(o.Z,{loading:!0,type:"rpmerah"}):j?(0,s.jsx)("button",{onClick:function(e){return N()},type:"button",className:"btn bg-gradient-danger btn-xs",children:j}):"display"===u?(0,s.jsx)("span",{children:(l().find(k,{city_id:t})||{}).city_name||"-"}):(0,s.jsxs)("select",{name:"city",value:t,id:"city",className:"custom-select",onChange:function(e){return n(e.target.value)},disabled:d,children:[(0,s.jsx)("option",{value:"-",children:"pilih"}),k.map((function(e,t){return(0,s.jsx)("option",{value:e.city_id,children:e.city_name},t)}))]})};return!f&&k.length<=0&&!j?"display"===u?"-":null:_?(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"city",children:"Kota/Kabupaten"}),R()]}):R()};var _=function(e){var t=e.defaultValue,n=e.onChange,i=e.cityId,d=e.disabled,u=e.forProcess,_=e.withLabel,h=a.useState(!1),p=(0,r.Z)(h,2),f=p[0],m=p[1],P=a.useState(""),b=(0,r.Z)(P,2),g=b[0],A=b[1],v=a.useState(null),T=(0,r.Z)(v,2),j=T[0],x=T[1],y=a.useState([]),E=(0,r.Z)(y,2),k=E[0],C=E[1],N=(0,a.useCallback)((function(){m(!0),A(i),Promise.all([fetch(c.Z.hostBackend+"/api/v1/fetchdata-subcity?city="+i,{method:"GET",headers:{key:"a6d84c88b9fc6cbdf502972c57885da1"}}).then((function(e){return e.json()})).then((function(e){var t=null;if(e&&!e.error||(t="Gagal load data. Klik untuk reload"),x(t),m(!1),e.list_data)return C((e.list_data||[]).map((function(e){return{subdistrict_id:e.subcity_code,subdistrict_name:e.subcity_name}})));C(((e||{}).rajaongkir||{}).results||[])})).catch((function(e){return x("Gagal load data. Klik untuk reload")})).finally((function(){return m(!1)}))]).then((function(){})).catch((function(e){return console.error(e)}))}),[i]);(0,a.useEffect)((function(){var e=new AbortController;return"display"===u&&l().isEmpty(t)||i&&i!==g&&N(),function(){return e.abort()}}),[i,t,N,u,g]);var R=function(){return f?(0,s.jsx)(o.Z,{loading:!0,type:"rpmerah"}):j?(0,s.jsx)("button",{onClick:function(e){return N()},type:"button",className:"btn bg-gradient-danger btn-xs",children:j}):"display"===u?(0,s.jsx)("span",{children:(l().find(k,{subdistrict_id:t})||{}).subdistrict_name||"-"}):(0,s.jsxs)("select",{name:"subcity",value:t,id:"subcity",className:"custom-select",onChange:function(e){return n(e.target.value)},disabled:d,children:[(0,s.jsx)("option",{value:"-",children:"pilih"}),k.map((function(e,t){return(0,s.jsx)("option",{value:e.subdistrict_id,children:e.subdistrict_name},t)}))]})};return!f&&k.length<=0&&!j?"display"===u?"-":null:_?(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"subcity",children:"Kecamatan"}),R()]}):R()};var h=function(e){var t=e.defaultValue,n=e.onChange,i=e.subcityId,c=e.disabled,d=e.forProcess,u=e.withLabel,_=a.useState(!1),h=(0,r.Z)(_,2),p=h[0],f=h[1],m=a.useState(""),P=(0,r.Z)(m,2),b=P[0],g=P[1],A=a.useState(null),v=(0,r.Z)(A,1)[0],T=a.useState([]),j=(0,r.Z)(T,2),x=j[0],y=j[1],E=(0,a.useCallback)((function(){f(!0),g(i),console.log("subcityIdsubcityIdsubcityIdsubcityId=>",i),y("undefined"!==typeof i&&""!==i?[{value:"jne",label:"jne"},{value:"jnt",label:"jnt"},{value:"tiki",label:"tiki"},{value:"sicepat",label:"sicepat"},{value:"wahana",label:"wahana"},{value:"ninja",label:"ninja"},{value:"pos",label:"pos"}]:[]),f(!1)}),[i]);(0,a.useEffect)((function(){var e=new AbortController;return"display"===d&&l().isEmpty(t)||i&&i!==b&&E(),function(){return e.abort()}}),[i,t,E,d,b]);var k=function(){return p?(0,s.jsx)(o.Z,{loading:!0,type:"rpmerah"}):v?(0,s.jsx)("button",{onClick:function(e){return E()},type:"button",className:"btn bg-gradient-danger btn-xs",children:v}):"display"===d?(0,s.jsx)("span",{children:(l().find(x,{value:t})||{}).label||"-"}):(0,s.jsxs)("select",{name:"shipping_currier_vendor",value:t,id:"shipping_currier_vendor",className:"custom-select",onChange:function(e){return n(e.target.value)},disabled:c,children:[(0,s.jsx)("option",{value:"-",children:"pilih"}),x.map((function(e,t){return(0,s.jsx)("option",{value:e.value,children:e.label},t)}))]})};return!p&&x.length<=0&&!v?"display"===d?"-":null:u?(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"shipping_currier_vendor",children:"Kurir Vendor"}),k()]}):k()};var p=function(e){var t=e.tokoSubcity,n=e.shippingSubcity,i=e.weight,d=e.defaultValue,u=e.onChange,_=e.currierVendorId,h=e.disabled,p=e.forProcess,f=e.withLabel,m=a.useState(!1),P=(0,r.Z)(m,2),b=P[0],g=P[1],A=a.useState(""),v=(0,r.Z)(A,2),T=v[0],j=v[1],x=a.useState(null),y=(0,r.Z)(x,2),E=y[0],k=y[1],C=a.useState([]),N=(0,r.Z)(C,2),R=N[0],S=N[1],O=(0,a.useCallback)((function(){if(g(!0),j(_),"undefined"!==typeof _&&""!==_){var e={origin:t,originType:"subdistrict",destinationType:"subdistrict",destination:n,weight:parseFloat(i),courier:_};console.log("bodybody=>",e),Promise.all([fetch(c.Z.hostBackend+"/api/v1/fetchdata-cost",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e&&!e.error||k("Gagal load data. Klik untuk reload");var t=null,n=(((e||{}).rajaongkir||{}).status||{}).code,r=(((e||{}).rajaongkir||{}).status||{}).description;200!==n&&(t=(r||"").includes("Weight harus lebih besar dari 0")?"Berat barang tidak boleh kurang dari 1 Gram.":r),t?(k(t),alert(t)):k(null),g(!1);var a=(((e||{}).rajaongkir||{}).results[0]||{}).costs;S(a.map((function(e){return{value:e.service,label:e.service,origin:e}})))})).catch((function(e){return k("Gagal load data. Klik untuk reload")})).finally((function(){return g(!1)}))]).then((function(){})).catch((function(e){return console.error(e)}))}else S([]),g(!1)}),[_,n,t,i]);(0,a.useEffect)((function(){var e=new AbortController;return"display"===p&&l().isEmpty(d)||_&&_!==T&&O(),function(){return e.abort()}}),[_,d,O,p,T]);var w=function(){return b?(0,s.jsx)(o.Z,{loading:!0,type:"rpmerah"}):E?(0,s.jsx)("button",{onClick:function(e){return O()},type:"button",className:"btn bg-gradient-danger btn-xs",children:E}):"display"===p?(0,s.jsx)("span",{children:(l().find(R,{value:d})||{}).label||"-"}):(0,s.jsxs)("select",{name:"shipping_currier",value:d,id:"shipping_currier",className:"custom-select",onChange:function(e){return u(e.target.value,R)},disabled:h,children:[(0,s.jsx)("option",{value:"-",children:"pilih"}),R.map((function(e,t){return(0,s.jsx)("option",{value:e.value,children:e.label},t)}))]})};return!b&&R.length<=0&&!E?"display"===p?"-":null:f?(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"shipping_currier",children:"Kurir"}),w()]}):w()}}}]);
//# sourceMappingURL=1918.440d554d.chunk.js.map