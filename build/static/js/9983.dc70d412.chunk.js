"use strict";(self.webpackChunkprismatech_webapp=self.webpackChunkprismatech_webapp||[]).push([[9983],{90783:function(e,t,a){a.d(t,{G6:function(){return n},OR:function(){return i},XU:function(){return r}});var l="customeremail",i="label-create_customer_email",n="createCustomerEmail",r="_id,email,batch_id,created_at,updated_at,created_by{full_name},updated_by{full_name}";t.ZP={redirectAfterCreate:"/customeremail/detail",redirectAfterDelete:"/customeremail",detailPageUrl:function(e){return"/".concat(l,"/detail/").concat(e)},updatePageUrl:function(e){return"/".concat(l,"/update/").concat(e)},createPageUrl:function(e){var t=e.batchId;return"/".concat(l,"/create/").concat(t)},createNewButtonLabel:"label-create_customer_email",createPageTitle:i,listallPageTitle:"Email Customer",detailPageTitle:"Detail Email Customer",updatePageTitle:"Update CustomerEmail",createService:n,detailService:"getDetailCustomerEmail",updateService:"updateCustomerEmail",listallService:"getAllCustomerEmails",listallByBatchIdService:"getAllCustomerEmailsByBatchId",deleteService:"deleteCustomerEmail",fields:r,getColumns:function(e){return[{Header:"Email",accessor:"email"}]}}},72725:function(e,t,a){a.d(t,{AJ:function(){return s},O_:function(){return b},PI:function(){return g},PS:function(){return d},Pu:function(){return j},XU:function(){return _},Yo:function(){return h},_W:function(){return f},dV:function(){return u},ny:function(){return p},oj:function(){return m},wo:function(){return v}});a(72791);var l=a(91523),i=a(16585),n=a(80184),r=i.Z.basePath,o="emailbatch",c="/emailbatch/detail",s="/"+o,d=function(e){return"/".concat(o,"/upsert").concat(e?"/"+e:"")},u="Buat Grup Email Customer",m="Email Grup",f="Detail Email Grup",p="Form Grup Email",h="getDetailEmailBatch",g="upsertEmailBatch",b="getAllEmailBatchs",v="deleteEmailBatch",_="_id,customer_email_ids{_id, email},file_ids{_id, filename, filenameorigin, file_type},title,description,created_at,updated_at,created_by{full_name},updated_by{full_name}",j=function(e){return[{Header:"",accessor:"_id",Cell:function(e){return(0,n.jsxs)("div",{className:"btn-group",children:[(0,n.jsx)("button",{type:"button",className:"btn btn-default dropdown-toggle dropdown-icon","data-toggle":"dropdown",children:(0,n.jsx)("span",{className:"sr-only",children:"Toggle Dropdown"})}),(0,n.jsx)("div",{className:"dropdown-menu",role:"menu",children:(0,n.jsx)(l.rU,{className:"dropdown-item",to:"".concat(r).concat(c,"/").concat(e.cell.value),children:"Detail"})})]})}},{Header:"Judul",accessor:"title"},{Header:"Keterangan",accessor:"description"}]};t.ZP={redirectAfterCreate:c,redirectAfterDelete:s,detailPageUrl:function(e){return"/".concat(o,"/detail/").concat(e)},upsertPageUrl:d,createNewButtonLabel:u,createPageTitle:"Buat Grup Email Customer",listallPageTitle:m,detailPageTitle:f,detailService:h,listallService:b,deleteService:v,upsertService:g,fields:_,getColumns:j,listallPageUrl:function(){return"/".concat(o)},upsertPageTitle:p}},481:function(e,t,a){a.d(t,{AJ:function(){return u},O_:function(){return j},PI:function(){return _},PS:function(){return m},Pu:function(){return x},XU:function(){return N},Yo:function(){return v},_W:function(){return g},dV:function(){return p},ny:function(){return b},oj:function(){return h},uX:function(){return f},wo:function(){return y}});a(72791);var l=a(91523),i=a(72426),n=a.n(i),r=a(16585),o=a(80184),c=r.Z.basePath,s="emailblast",d="/emailblast/detail",u="/"+s,m=function(e){return"/".concat(s,"/upsert").concat(e?"/"+e:"")},f=function(){return"/".concat(s)},p="Buat Email Blast Baru",h="Email Blast",g="Detail Email Blast",b="Form EmailBlast",v="getDetailEmailBlast",_="upsertEmailBlast",j="getAllEmailBlasts",y="deleteEmailBlast",N="_id,email_batch_id{_id,title, customer_email_ids{email}},toko_id{_id,name,email},name,subject,last_sent,content1,created_at,updated_at,created_by{full_name},updated_by{full_name}",x=function(e){return[{Header:"Act",accessor:"_id",Cell:function(e){return(0,o.jsxs)("div",{className:"btn-group",children:[(0,o.jsx)("button",{type:"button",className:"btn btn-default dropdown-toggle dropdown-icon","data-toggle":"dropdown",children:(0,o.jsx)("span",{className:"sr-only",children:"Toggle Dropdown"})}),(0,o.jsx)("div",{className:"dropdown-menu",role:"menu",children:(0,o.jsx)(l.rU,{className:"dropdown-item",to:"".concat(c).concat(d,"/").concat(e.cell.value),children:"Detail"})})]})}},{Header:"Name",accessor:"name"},{Header:"Subject",accessor:"subject"},{Header:"Terakhir Dikirim",accessor:"last_sent",Cell:function(e){if(console.log("asdfadsfdsf"+e.cell.value),!e.cell.value)return"-";var t=n()(e.cell.value);return t=t&&t.isValid()?t.format("YYYY-MM-DD HH:mm:ss"):"",(0,o.jsx)("span",{children:"".concat(t)})}}]};t.ZP={redirectAfterCreate:d,redirectAfterDelete:u,detailPageUrl:function(e){return"/".concat(s,"/detail/").concat(e)},upsertPageUrl:m,createNewButtonLabel:p,createPageTitle:"Buat Email Blast",listallPageTitle:h,detailPageTitle:g,detailService:v,listallService:j,deleteService:y,upsertService:_,fields:N,getColumns:x,listallPageUrl:f}},19983:function(e,t,a){a.r(t);var l=a(1413),i=a(72791),n=a(60364),r=a(9571),o=a(76514),c=a(78881),s=a(1851),d=a(16585),u=a(481),m=a(34925),f=a(72725),p=a(90783),h=a(11742),g=a(80184),b=(0,n.$j)((function(e,t){var a=t.upsertServiceName,l=(e.tablepagination.formSchema||{})[a]||{},i=(e.tablepagination.redirectAfterUpsert||{})[a];return{formSchema:l,serviceName:a,fileArray:(e.tablepagination.fileArray||{})[a]||{},redirectAfterUpsert:i}}),(function(e){return{tablepaginationSubmitForm:function(t){return e(h.ZP.tablepaginationSubmitForm(t))}}}))((function(e){var t=e.tablepaginationSubmitForm,a=e.upsertServiceName,i=e.history,n=e.payload,r=e.redirectAfterUpsert,o=e.formSchema;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("button",{type:"button",className:"btn btn-block bg-gradient-info btn-lg","data-toggle":"modal","data-target":"#modal-send-email",children:"Simpan dan Kirim"}),(0,g.jsx)("div",{className:"modal fade",id:"modal-send-email",children:(0,g.jsx)("div",{className:"modal-dialog",children:(0,g.jsxs)("div",{className:"modal-content bg-danger",children:[(0,g.jsxs)("div",{className:"modal-header",children:[(0,g.jsx)("h4",{className:"modal-title",children:"Konfirmasi"}),(0,g.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,g.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,g.jsx)("div",{className:"modal-body",children:(0,g.jsx)("p",{children:"Konfirmasi Kirim Email"})}),(0,g.jsxs)("div",{className:"modal-footer justify-content-between",children:[(0,g.jsx)("button",{id:"buttonCloseModal",type:"button",className:"btn btn-outline-light","data-dismiss":"modal",children:"Cancel"}),(0,g.jsx)("button",{type:"button",className:"btn btn-outline-light",onClick:function(){t({payload:(0,l.Z)((0,l.Z)({},n),{},{trigger_send:"Y"}),serviceName:a,history:i,redirectAfterUpsert:r,formSchema:o});var e=document.getElementById("buttonCloseModal");e&&e.click()},children:"Kirim"})]})]})})})]})})),v=function(e){var t=e.tablepaginationOnChangeForm,a=e.dataDetail,l=e.payload,n=e.upsertServiceName,c=e.id,s=e.history,d=e.tablepaginationResetForm,u=e.formTitle;return i.useEffect((function(){var e={};c&&(e._id=c),d({isInitialReset:!0,serviceName:n,defaultFormValue:e})}),[d,n,c]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"row",children:[(0,g.jsx)("div",{className:"col-sm-6",children:(0,g.jsxs)(r.As,{formTitle:u,children:[(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"name",children:"Nama Email"}),(0,g.jsx)("input",{type:"text",className:"form-control",id:"name",placeholder:"",value:"undefined"!==typeof l.name?l.name:a.name||"",onChange:function(e){return t({serviceName:n,fieldName:"name",fieldValue:e.target.value})}})]}),(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"subject",children:"Subject"}),(0,g.jsx)("input",{type:"text",className:"form-control",id:"subject",placeholder:"",value:"undefined"!==typeof l.subject?l.subject:a.subject||"",onChange:function(e){return t({serviceName:n,fieldName:"subject",fieldValue:e.target.value})}})]}),(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"toko_id",children:"Pilih Toko"}),(0,g.jsx)("br",{}),(0,g.jsx)(r.J,{isMulti:!1,className:"form-control",label:"Pilih Toko",labelButton:"Pilih",labelColumn:"Pilih",placeholder:"Pilih",optionColumnValue:"_id",optionColumnLabel:"name",payloadValue:l.toko_id,defaultValueOriginal:a.toko_id,getColumns:function(e){e.onChange;return[]},listallServiceName:m.ZP.listallService,fields:m.ZP.fields,onChange:function(e){var a=e.val;t({serviceName:n,fieldName:"toko_id",fieldValue:a})}})]}),(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"email_batch_id",children:"Grup Email Tujuan"}),(0,g.jsx)("br",{}),(0,g.jsx)(r.J,{isMulti:!1,className:"form-control",label:"Pilih Grup Email Tujuan",labelButton:"Pilih",labelColumn:"Pilih",placeholder:"Pilih",optionColumnValue:"_id",optionColumnLabel:"title",payloadValue:l.email_batch_id,defaultValueOriginal:a.email_batch_id,getColumns:function(e){e.onChange;return[]},listallServiceName:f.ZP.listallService,fields:f.ZP.fields,onChange:function(e){var a=e.val;t({serviceName:n,fieldName:"email_batch_id",fieldValue:a})}})]}),(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"content1",children:"Isi Email"}),(0,g.jsx)(o.B,{textEditor:!0,forProcess:"undefined"!==typeof c?"update":"create",dataId:c,initValue:a.content1,defaultValue:"undefined"!==typeof l.content1?l.content1:a.content1,onChange:function(e){return t({serviceName:n,fieldName:"content1",fieldValue:e})},idElement:"content1"})]})]})}),(0,g.jsx)("div",{className:"col-sm-6",children:(a.email_batch_id||{})._id&&(0,g.jsx)(r.iA,{listallServiceName:p.ZP.listallByBatchIdService,fields:p.ZP.fields,columns:p.ZP.getColumns(s),cardTitle:p.ZP.listallPageTitle,whereCondition:JSON.stringify({batch_id:void 0!==l.email_batch_id?l.email_batch_id:(a.email_batch_id||{})._id})})})]}),(0,g.jsx)("div",{className:"row",children:(0,g.jsxs)("div",{className:"col-md-3",children:[(0,g.jsx)(b,{upsertServiceName:n,history:s,payload:l}),(0,g.jsx)("br",{})]})})]})};t.default=(0,s.ZP)((function(e){var t=e.match,a=e.history;return(0,g.jsx)(c.Z,{pageTitle:u.ny,breadcrumb:[{title:"Beranda",link:d.Z.appHomePage},{title:u.oj,link:(0,u.uX)()},{title:u.ny,link:null,isActive:!0}],contentHeaderTitle:u.ny,isNeedLoggedin:!0,children:(0,g.jsx)(r.F,{detailServiceName:u.Yo,upsertServiceName:u.PI,deleteServiceName:u.wo,createPageUrl:(0,u.PS)(),fields:u.XU,id:t.params._id,formTitle:u.ny,redirectAfterDelete:u.AJ,withoutWrapper:!0,children:(0,g.jsx)(v,{formTitle:u.ny,history:a})})})}))},34925:function(e,t,a){a.d(t,{AJ:function(){return d},O_:function(){return _},PI:function(){return b},PS:function(){return u},Pu:function(){return N},XU:function(){return y},Yo:function(){return v},_W:function(){return h},dV:function(){return f},ny:function(){return g},oj:function(){return p},uX:function(){return m},wo:function(){return j}});a(72791);var l=a(91523),i=a(16585),n=a(80184),r=i.Z.basePath,o=i.Z.appName,c="tokoonline",s="/tokoonline/detail",d="/"+c,u=function(e){return"/".concat(c,"/upsert").concat(e?"/"+e:"")},m=function(){return"/".concat(c)},f="Buat Baru",p="Daftar Toko",h="Toko Detail",g="Form "+o,b="upsertTokoTokoOnline",v="getDetailTokoTokoOnline",_="getAllTokoTokoOnlines",j="deleteTokoTokoOnline",y="_id,name,pgateway_id{_id,title,keyid,mid,secretkey,configs},template,image_ids{_id, filename, filenameorigin, file_type},logo{_id, filename, filenameorigin, file_type},address,email,template,plink_merchant_secret_key,province,city,subcity,slug,plink_merchant_id,plink_merchant_key_id,status,website,facebook,instagram,youtube,description,created_at,updated_at,owner{_id,full_name,email},created_by{full_name},updated_by{full_name}",N=function(e){return[{Header:" ",accessor:"_id",Cell:function(e){return(0,n.jsxs)("div",{className:"btn-group",children:[(0,n.jsx)("button",{type:"button",className:"btn btn-default dropdown-toggle dropdown-icon","data-toggle":"dropdown",children:(0,n.jsx)("span",{className:"sr-only",children:"Toggle Dropdown"})}),(0,n.jsx)("div",{className:"dropdown-menu",role:"menu",children:(0,n.jsx)(l.rU,{className:"dropdown-item",to:"".concat(r).concat(s,"/").concat(e.cell.value),children:"Detail"})})]})}},{Header:"Nama",accessor:"name"},{Header:"website",accessor:"website"},{Header:"facebook",accessor:"facebook"},{Header:"instagram",accessor:"instagram"},{Header:"youtube",accessor:"youtube"},{Header:"status",accessor:"status"},{Header:"Pemilik",accessor:"owner.full_name"}]};t.ZP={redirectAfterCreate:s,redirectAfterDelete:d,detailPageUrl:function(e){return"/".concat(c,"/detail/").concat(e)},upsertPageUrl:u,createNewButtonLabel:f,createPageTitle:"Buat Baru",listallPageTitle:p,detailPageTitle:h,upsertPageTitle:g,createService:"createTokoTokoOnline",detailService:v,upsertService:b,listallService:_,deleteService:j,fields:y,getColumns:N,listallPageUrl:m}},76514:function(e,t,a){a.d(t,{B:function(){return o}});var l=a(72791),i=a(16585),n=a(85545),r=a(80184);var o=function(e){var t=e.placeholder,a=e.textEditor,o=e.defaultValue,c=e.initValue,s=e.onChange,d=e.idElement,u=e.dataId;return(0,l.useEffect)((function(){if(console.log("valuevaluevalue initValue=>",c),console.log("valuevaluevalue id=>",u),a){"undefined"!==typeof u&&"undefined"!==typeof o&&(console.log("valuevaluevalue reloadddd=>",o),window.activateEditorV2({idElement:d,hostBackend:i.Z.hostBackend,at:(0,n.hP)(),cb:function(e){s(e)},isReset:false,defaultValue:o})),"undefined"===typeof u&&window.activateEditorV2({idElement:d,hostBackend:i.Z.hostBackend,at:(0,n.hP)(),cb:function(e){s(e)},isReset:false,defaultValue:o})}}),[o,u,d,s,a,c]),"undefined"===typeof u||u?(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-12",children:(0,r.jsxs)("div",{style:{position:"relative"},children:[a&&(0,r.jsx)("div",{style:{backgroundColor:"black",position:"absolute",width:"100%",height:"100%",top:0},children:(0,r.jsx)("center",{children:(0,r.jsx)("span",{style:{color:"green",fontSize:30,marginTop:200},children:"Gambar sedang diupload..."})})}),(0,r.jsx)("div",{id:"texareaWrapper",style:{width:"100%",height:"100%",backgroundColor:"black",opacity:1},children:(0,r.jsx)("textarea",{className:"textarea",id:d,placeholder:t||"Isi keterangan",value:o,style:{width:"100%"},onChange:function(e){return s(e.target.value)}})})]})})}):null}}}]);
//# sourceMappingURL=9983.dc70d412.chunk.js.map