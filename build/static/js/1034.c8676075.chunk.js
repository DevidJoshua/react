"use strict";(self.webpackChunkprismatech_webapp=self.webpackChunkprismatech_webapp||[]).push([[1034],{11034:function(e,n,t){t.r(n),t.d(n,{default:function(){return se}});var a=t(72791),r=t(1851),i=t(9571),o=t(78881),l=t(70712),s=t(72426),d=t.n(s),c=t(85545),u=t(16585),m=t(11742),h=t(763),p=t.n(h),f=t(60364),v=t(1413),x=t(93433),g=t(29439),j=t(84654),b=t(24518),C=t(70478),Z=t(13967),y=t(53767),N=t(42419),I=t(53329),k=t(5574),S=t(65661),w=t(39157),P=t(13400),D=t(27247),A=t(86753),M=t(63366),z=t(87462),_=t(28182),V=t(90767),T=t(47630),E=t(31402),H=t(76189),R=t(80184),O=(0,H.Z)((0,R.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),K=t(95159);function F(e){return(0,K.Z)("MuiAvatar",e)}(0,t(30208).Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var L=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],W=(0,T.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n[t.variant],t.colorDefault&&n.colorDefault]}})((function(e){var n=e.theme,t=e.ownerState;return(0,z.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===t.variant&&{borderRadius:n.shape.borderRadius},"square"===t.variant&&{borderRadius:0},t.colorDefault&&{color:n.palette.background.default,backgroundColor:"light"===n.palette.mode?n.palette.grey[400]:n.palette.grey[600]})})),q=(0,T.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,n){return n.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),U=(0,T.ZP)(O,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,n){return n.fallback}})({width:"75%",height:"75%"});var B=a.forwardRef((function(e,n){var t=(0,E.Z)({props:e,name:"MuiAvatar"}),r=t.alt,i=t.children,o=t.className,l=t.component,s=void 0===l?"div":l,d=t.imgProps,c=t.sizes,u=t.src,m=t.srcSet,h=t.variant,p=void 0===h?"circular":h,f=(0,M.Z)(t,L),v=null,x=function(e){var n=e.crossOrigin,t=e.referrerPolicy,r=e.src,i=e.srcSet,o=a.useState(!1),l=(0,g.Z)(o,2),s=l[0],d=l[1];return a.useEffect((function(){if(r||i){d(!1);var e=!0,a=new Image;return a.onload=function(){e&&d("loaded")},a.onerror=function(){e&&d("error")},a.crossOrigin=n,a.referrerPolicy=t,a.src=r,i&&(a.srcset=i),function(){e=!1}}}),[n,t,r,i]),s}((0,z.Z)({},d,{src:u,srcSet:m})),j=u||m,b=j&&"error"!==x,C=(0,z.Z)({},t,{colorDefault:!b,component:s,variant:p}),Z=function(e){var n=e.classes,t={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,V.Z)(t,F,n)}(C);return v=b?(0,R.jsx)(q,(0,z.Z)({alt:r,src:u,srcSet:m,sizes:c,ownerState:C,className:Z.img},d)):null!=i?i:j&&r?r[0]:(0,R.jsx)(U,{className:Z.fallback}),(0,R.jsx)(W,(0,z.Z)({as:s,ownerState:C,className:(0,_.Z)(Z.root,o),ref:n},f,{children:v}))})),Q=t(39709),J=t(97123),$=t(86711),Y=t(94070);function X(e){var n=e.columns,t=e.onSubmit,r=e.toogleCustColDialog,i=e.isOpen,o=e.tableId,l=e.removeColumns,s=e.reduxCustomColumns,d=a.useState([]),c=(0,g.Z)(d,2),u=c[0],m=c[1],h=a.useState(""),f=(0,g.Z)(h,2),v=f[0],M=f[1],z=function(e){return(0,C.Z)({paper:{position:"absolute",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},modal:{display:"flex",alignItems:"center",justifyContent:"center",margin:"auto",width:"fit-content",minWidth:"100vw",overflow:"scroll"},modContent:{width:"fit-content"},buttonAdd:{marginTop:"2rem",marginLeft:"2rem"}})}((0,Z.Z)())();a.useEffect((function(){m(s)}),[s]),a.useEffect((function(){var e;(e=u).some((function(n,t){return e.indexOf(n)!==t}))?M("Tidak boleh ada kolom yang sama. Kolom yang sama akan digabungkan"):M("")}),[u]);var _=function(e){return p().uniq(e,(function(e){return JSON.stringify(e)}))},V=function(){u.push(null),m((0,x.Z)(u))};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(b.Z,{size:"small",onClick:function(){r({isOpen:!0,tableId:o})},variant:"outlined",endIcon:(0,R.jsx)(j.Z,{}),children:"Sesuaikan Kolom"}),(0,R.jsxs)(k.Z,{open:i,maxWidth:"md",fullWidth:!0,children:[(0,R.jsx)(S.Z,{children:"Atur Kolom"}),(0,R.jsx)(w.Z,{children:(0,R.jsx)("div",{className:"card-body overflow-scroll",children:u.length>0?(0,R.jsxs)(y.Z,{direction:"column",spacing:2,children:[u.map((function(e,t){return(0,R.jsxs)(y.Z,{direction:"row",spacing:2,children:[(0,R.jsx)(B,{children:t+1},t+3),(0,R.jsxs)("select",{className:"form-control",style:{width:"100%"},"aria-hidden":e,onChange:function(e){return function(e,n){var t=u;t[n]=e.target.value,m((0,x.Z)(t))}(e,t)},value:e,children:[(0,R.jsx)("option",{value:null,children:"Pilih Kolom"},"genesis"),n.map((function(e,n){return(0,R.jsx)("option",{value:e.headerKey,children:p().isEmpty(e.Header)?e.alias:e.Header},n)}))]},t+4),(0,R.jsx)(P.Z,{"aria-label":"Delete Column",onClick:function(){return function(e){var n=u;n.splice(e,1),m((0,x.Z)(_(n)))}(t)},children:(0,R.jsx)(D.Z,{})},t+5)]},t)})),""!=v&&(0,R.jsx)(Y.Z,{severity:"warning",children:v}),(0,R.jsx)(b.Z,{fullWidth:!0,startIcon:(0,R.jsx)(N.Z,{}),onClick:function(){return V()},children:"Tambah Kolom"})]}):(0,R.jsx)("div",{className:"form-group mb-3",children:(0,R.jsx)(b.Z,{className:z.buttonAdd,startIcon:(0,R.jsx)(N.Z,{}),onClick:V,children:"Tambah Kolom"})})})}),(0,R.jsxs)(J.Z,{children:[(0,R.jsx)(Q.Z,{onClick:function(){m(_(u));var e=p().remove(u,null).map((function(e){return n.find((function(n){return n.headerKey===e}))}));t(_(e))},endIcon:(0,R.jsx)(I.Z,{}),loadingPosition:"end",variant:"contained",disabled:!(u.length>0),children:"Simpan"}),(0,R.jsx)(Q.Z,{onClick:function(){m([]),l({tableId:o})},endIcon:(0,R.jsx)(A.Z,{}),loadingPosition:"end",color:"secondary",variant:"contained",disabled:!(u.length>0),children:"Atur Ulang"}),(0,R.jsx)(b.Z,{onClick:function(){r({isOpen:!1,tableId:o})},endIcon:(0,R.jsx)($.Z,{}),color:"error",variant:"outlined",children:"Tutup"})]})]})]})}var G=t(48164),ee=t(78667),ne=t.n(ee),te=(0,f.$j)((function(e,n){var t=e.customcolumns,a=e.myprofile,r=n.tableId,i=void 0===t.custom_columns[r]?[]:t.custom_columns[r],o=e.tablepagination.dataDetail,l=e.tablepagination.columns;return{dataDetail:o,userId:a.user_id,merchantId:a.merchant.id,reduxCustomColumns:ne().asMutable((p().without(i,void 0)||[]).map((function(e){return e.headerKey})))||[],isOpen:t.openDialog[r]||!1,oriColumns:void 0===l[n.serviceName]?[]:l[n.serviceName]}}),(function(e){return{toogleCustColDialog:function(n){return e(G.ZP.toogleDialog(n))},changeCustomColumns:function(n){return e(G.ZP.changeCustomColumns(n))},removeColumns:function(n){return e(G.ZP.removeCustomColumns(n))},fetchCustomColumns:function(n){return e(G.ZP.fetchCustomColumns(n))}}}))((function(e){var n=e.changeCustomColumns,t=(e.serviceName,e.reduxCustomColumns),r=e.userId,i=e.merchantId,o=e.fetchCustomColumns,l=e.columns,s=e.tableId,d=(e.reshapedColumns,e.dataDetail),c=e.oriColumns;return a.useEffect((function(){o({tableId:s,userId:r,merchantId:i,originalCols:l})}),[d]),(0,R.jsx)(X,(0,v.Z)((0,v.Z)({},e),{},{columns:c,onSubmit:function(e){n({tableId:s,tableColumns:e,userId:r,merchantId:i})},reduxCustomColumns:t.length<1?ne().asMutable(c.map((function(e){return e.headerKey}))):t}))})),ae=t(57312);function re(e){var n=e.serviceName;return(0,R.jsx)(i.wn,{serviceName:n,child:function(e){return(0,R.jsxs)("div",{className:"row mt-3",children:[(0,R.jsx)("div",{className:"ml-3 form-group",children:(0,R.jsxs)("select",{className:"custom-select",id:"pymtMethodCd",onChange:function(t){e({serviceName:n,fieldName:"pymtMethodCd",fieldValue:t.target.value})},children:[(0,R.jsx)("option",{value:"",children:"All Payment Method"}),ae.map((function(e){return(0,R.jsx)("option",{value:e.value,children:e.label})}))]})}),(0,R.jsx)("div",{className:"ml-3 form-group",children:(0,R.jsxs)("select",{className:"custom-select",id:"status",onChange:function(t){e({serviceName:n,fieldName:"status",fieldValue:t.target.value})},children:[(0,R.jsx)("option",{value:"",children:"Payment Status"}),(0,R.jsx)("option",{value:"SETLD",children:"Settled"}),(0,R.jsx)("option",{value:"PNDNG",children:"Pending"}),(0,R.jsx)("option",{value:"CANCL",children:"Cancel"}),(0,R.jsx)("option",{value:"REJEC",children:"Reject"})]})}),(0,R.jsx)("div",{className:"ml-3 form-group",children:(0,R.jsx)("input",{id:"merchant_ref_no",type:"text",className:"form-control",placeholder:"Search by Id",onChange:function(t){e({serviceName:n,fieldName:"invoiceNumber",fieldValue:t.target.value})}})})]})}})}var ie=t(10703),oe=t(88922),le=function(e){var n=e.dataDetail,t=n.idCode,a=n.additionalData1,r=n.createdBy,i=n.expiredDateTime,o=n.amount,l=n.totalAmount,s=n.otherBills,u=n.createdAt,m=n.updatedAt,h=n.description;return null!=s&&(s=s.length>0&&void 0!==s[0].billAmount?s[0].billAmount:0),void 0!=r&&(r=r.username),d().locale(),(0,R.jsxs)("div",{className:"card p-2",children:[(0,R.jsxs)("div",{className:"row",children:[(0,R.jsxs)("div",{className:"col-sm-6",children:[(0,R.jsx)("strong",{children:"Nomor Identifikasi"}),(0,R.jsx)("br",{}),(0,c.Mp)(t),(0,R.jsx)("dt",{children:"ID Eksternal"}),(0,R.jsx)("dd",{children:(0,c.Mp)(a)}),(0,R.jsx)("dt",{children:"Nominal"}),(0,R.jsx)("dd",{children:(0,c.vK)(o)}),(0,R.jsx)("dt",{children:"Biaya Admin"}),(0,R.jsx)("dd",{children:(0,c.vK)(s)}),(0,R.jsx)("dt",{children:"Total Keseluruhan"}),(0,R.jsx)("dd",{children:(0,c.vK)(l)})]}),(0,R.jsxs)("div",{className:"col-sm-6",children:[(0,R.jsx)("dt",{children:"Waktu Kadaluarsa"}),(0,R.jsx)("dd",{children:(0,R.jsx)("span",{className:"right badge badge-danger",children:(0,R.jsx)("h6",{children:(0,c.jQ)(d()(i))})})}),(0,R.jsx)("dt",{children:"Dibuat Oleh"}),(0,R.jsx)("dd",{children:(0,c.Mp)(r)}),(0,R.jsx)("dt",{children:"Tanggal Pembuatan"}),(0,R.jsx)("dd",{children:(0,c.jQ)(u)}),(0,R.jsx)("dt",{children:"Tanggal Diperbaharui"}),(0,R.jsx)("dd",{children:(0,c.jQ)(m)})]})]}),(0,R.jsxs)("div",{className:"col-12",children:[(0,R.jsx)("hr",{}),(0,R.jsx)("dt",{children:"Keterangan"}),(0,R.jsx)("dd",{children:(0,c.Mp)(h)})]})]})};var se=(0,r.ZP)((function(e){var n=e.match,t=e.history,r=(0,f.I0)(),s=l.hb.columns,d=l.hb.trxFields,c=l.hb.serviceName,h="PL".concat(n.params._id).concat(c);return(0,a.useEffect)((function(){(p().isNull(n.params._id)||p().isEmpty(n.params._id)||p().isUndefined(n.params._id))&&window.history.back(),r(m.ZP.setDeletePayload({paymentlink_id:n.params._id}))}),[]),(0,R.jsx)(o.Z,{pageTitle:l._W,breadcrumb:[{title:"Beranda",link:u.Z.appHomePage},{title:l.oj,link:(0,l.uX)()},{title:l._W,link:null,isActive:!0}],contentHeaderTitle:l._W,isNeedLoggedin:!0,children:(0,R.jsx)(ie.Z,{variant:"outlined",children:(0,R.jsxs)("div",{style:{padding:10},children:[(0,R.jsx)(i.F,{withoutWrapper:!0,preProcessPatchData:l.Yq,detailServiceName:l.Yo,deleteServiceName:l.wo,fields:l.XU,id:n.params._id,apiVersion:3,formTitle:l._W,redirectAfterDelete:l.AJ,updatePageUrl:(0,l.PS)(n.params._id),createPageUrl:(0,l.PS)(),buttonAction:function(e){e.dataDetail;var a=e.id,r=e.deleteServiceName;return a&&r?(0,R.jsxs)("div",{children:[(0,R.jsxs)("button",{style:{width:100},type:"button",className:"btn bg-gradient-danger ","data-toggle":"modal","data-target":"#modal-danger",children:[(0,R.jsx)("span",{className:"fas fa-trash-alt mr-2"}),"Hapus"]}),(0,R.jsxs)("button",{style:{width:100},type:"button",className:"ml-2 btn bg-gradient-primary",onClick:function(){return t.push((0,l.PS)(n.params._id))},children:[(0,R.jsx)("span",{className:"fas fa-pencil-alt mr-2"}),"Ubah"]})]}):(0,R.jsx)(R.Fragment,{})},children:(0,R.jsx)(le,{history:t,match:n})}),(0,R.jsx)(i.iA,{cardHeader:function(){return(0,R.jsxs)("div",{style:{boxSizing:"border-box",padding:"1rem"},children:[(0,R.jsx)(re,{serviceName:c}),(0,R.jsxs)("div",{className:"row ml-2",children:[(0,R.jsx)(te,{serviceName:l.Yo,tableId:h,columns:s(),appendColumns:l.$2}),"\xa0 \xa0",(0,R.jsx)(oe.Z,{exportOptions:l.a2,additionalRequests:{id:n.params._id}})]})]})},appendColumns:l.$2,withoutCardHeader:!0,tableId:h,listallServiceName:c,fields:d,columns:s(),cardTitle:"Transactions",additionalRequests:{id:n.params._id},apiVersion:2,collapsable:!0})]})})})}))},88922:function(e,n,t){t.d(n,{Z:function(){return g}});var a=t(1413),r=t(72791),i=t(60364),o=t(29439),l=t(24518),s=t(80911),d=t(23786),c=t(64554),u=t(60627),m=t(73518),h=t(80184),p=function(e){var n=e.exportFileOptions,t=e.onClickExport,a=r.useState(null),i=(0,o.Z)(a,2),p=i[0],f=i[1],v=Boolean(p),x=function(e){f(null)};return(0,h.jsxs)(c.Z,{children:[(0,h.jsx)(l.Z,{id:"fade-button","aria-haspopup":"true",onClick:function(e){f(e.currentTarget)},variant:"outlined",endIcon:(0,h.jsx)(m.Z,{}),children:"Export"}),(0,h.jsx)(s.Z,{id:"fade-menu",MenuListProps:{"aria-labelledby":"fade-button"},anchorEl:p,open:v,onClose:x,TransitionComponent:u.Z,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:n.map((function(e){return(0,h.jsx)(d.Z,{onClick:function(n){x(),t(e)},children:e})}))})]})},f=t(95583),v=t(763),x=t.n(v),g=(0,i.$j)((function(e,n){var t=n.exportOptions,a=n.additionalRequests,r=t.buildPayload(e,t.exportId,a),i=e.exportdata.exporting,o=e.exportdata.disabled;return{payload:r,exporting:!!x().has(i,t.exportId)&&e.exportdata.exporting[t.exportId],disabled:!!x().has(o,t.exportId)&&e.exportdata.disabled[t.exportId]}}),(function(e){return{fetchExportData:function(n){return e(f.ZP.fetchExportData(n))}}}))((function(e){var n=e.exportOptions,t=e.payload,r=e.fetchExportData;return console.log("payload=======> ",t),(0,h.jsx)(p,(0,a.Z)((0,a.Z)({},e),{},{exportFileOptions:["csv","txt"],onClickExport:function(e){t.filter.formatFile=e,r((0,a.Z)({fileType:e,payload:t},n))}}))}))},86711:function(e,n,t){var a=t(95318);n.Z=void 0;var r=a(t(45649)),i=t(80184),o=(0,r.default)((0,i.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");n.Z=o},27247:function(e,n,t){var a=t(95318);n.Z=void 0;var r=a(t(45649)),i=t(80184),o=(0,r.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");n.Z=o},73518:function(e,n,t){var a=t(95318);n.Z=void 0;var r=a(t(45649)),i=t(80184),o=(0,r.default)((0,i.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download");n.Z=o},86753:function(e,n,t){var a=t(95318);n.Z=void 0;var r=a(t(45649)),i=t(80184),o=(0,r.default)((0,i.jsx)("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8zm-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91z"}),"RestartAlt");n.Z=o},84654:function(e,n,t){var a=t(95318);n.Z=void 0;var r=a(t(45649)),i=t(80184),o=(0,r.default)((0,i.jsx)("path",{d:"M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z"}),"SettingsInputComposite");n.Z=o},57312:function(e){e.exports=JSON.parse('[{"value":"CC","label":"Credit Card"},{"value":"DD","label":"Debitin"},{"value":"VA","label":"Virtual Account"},{"value":"QR","label":"QRIS"},{"value":"PL","label":"Paylater"}]')}}]);
//# sourceMappingURL=1034.c8676075.chunk.js.map