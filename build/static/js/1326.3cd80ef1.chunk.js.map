{"version":3,"file":"static/js/1326.3cd80ef1.chunk.js","mappings":"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","sources":["core/features/TablePagination/components/Create.js"],"sourcesContent":["import React, { PureComponent, useEffect } from 'react'\n// import { path } from 'ramda'\nimport { connect } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { injectIntl, FormattedMessage as T } from 'react-intl'\nimport Loader from '../../../Components/Loader/Loader'\nimport TablepaginationActions from '../redux'\n\nclass CardBody extends PureComponent {\n  render () {\n    const { tablepaginationOnChangeForm, payload, child } = this.props\n    return child(tablepaginationOnChangeForm, payload)\n  }\n}\nconst Createform = React.memo(props => {\n  console.log('render Create.js')\n  const history = useHistory()\n  const {\n    paginationConfig,\n    child,\n    tablepaginationOnChangeForm,\n    formTitle,\n    tablepaginationSubmitForm,\n    payload,\n    redirectAfterCreate,\n    redirectAfterCreateToParent,\n    footerCard,\n    tablepaginationResetForm,\n    onSubmit,\n    isNeedValidation,\n    beforeSubmit,\n    children,\n    tablepaginationSetloading\n  } = props\n  const loading = props.loading || false\n  //   const dataDetail = path(['dataDetail', paginationConfig.serviceName], props) || {}\n\n  // Similar to componentDidMount\n  useEffect(() => {\n    console.log('useEffect=========')\n\n    // window.loadValidator({})\n\n    // Update the document title using the browser API\n    return () => {\n      tablepaginationResetForm({ serviceName: paginationConfig.serviceName })\n    }\n  }, [tablepaginationResetForm, paginationConfig.serviceName])\n  console.log('Createform=========')\n\n  const childrenWithProps = React.Children.map(children, child => {\n    // checking isValidElement is the safe way and avoids a typescript error too\n    if (React.isValidElement(child)) {\n      return React.cloneElement(child, { tablepaginationOnChangeForm: tablepaginationOnChangeForm, payload })\n    }\n    return child\n  })\n\n  return (\n    <>\n      <form\n        id={paginationConfig.serviceName}\n        // role='form'\n        onSubmit={(e) => {\n          const theForm = document.getElementById(paginationConfig.serviceName)\n          if (e) e.preventDefault()\n          if (isNeedValidation) {\n            if (theForm.checkValidity() === false) {\n              e.stopPropagation()\n            }\n            theForm.classList.add('was-validated')\n          }\n          if (onSubmit) onSubmit({ tablepaginationSubmitForm, payload })\n          else {\n            tablepaginationSetloading({ serviceName: paginationConfig.serviceName, isLoading: true })\n            if (beforeSubmit) {\n              beforeSubmit((p) => {\n                const pl = { [paginationConfig.serviceName]: { ...payload[paginationConfig.serviceName], ...p } }\n                tablepaginationSubmitForm({\n                  fields: paginationConfig.fields,\n                  payload: pl,\n                  serviceName: paginationConfig.serviceName,\n                  history,\n                  redirectAfterCreate: redirectAfterCreate,\n                  redirectAfterCreateToParent: redirectAfterCreateToParent\n                })\n              })\n            } else {\n              tablepaginationSubmitForm({\n                fields: paginationConfig.fields,\n                payload,\n                serviceName: paginationConfig.serviceName,\n                history,\n                redirectAfterCreate: redirectAfterCreate,\n                redirectAfterCreateToParent: redirectAfterCreateToParent\n              })\n            }\n          }\n        }}\n        noValidate\n        className={isNeedValidation && 'needs-validation'}\n      >\n        <div className='card'>\n          <div className='card-header' data-card-widget='collapse'>\n            <h3 className='card-title'><T id={formTitle} /></h3>\n            <div className='card-tools'>\n              <button type='button' className='btn btn-tool myCardWidget' data-card-widget='collapse'><i className='fas fa-minus' /></button>\n              {/* <button type='button' className='btn btn-tool' data-card-widget='remove'><i className='fas fa-times' /></button> */}\n            </div>\n          </div>\n          <div className='card-body'>\n            {child && <CardBody child={child} payload={payload} tablepaginationOnChangeForm={tablepaginationOnChangeForm} />}\n            {!child && childrenWithProps}\n          </div>\n          <div className='card-footer'>\n            {\n              loading &&\n                <Loader loading type='rpmerah' />\n            }\n            {!loading && footerCard && footerCard({ tablepaginationSubmitForm, payload })}\n            {!loading && !footerCard && (\n              <>\n                <button disabled={loading} style={{ width: 100 }} type='button' className='btn bg-gradient-warning' onClick={e => history.goBack()}>Cancel</button>\n                <button disabled={loading} style={{ width: 100, marginLeft: 5 }} type='submit' className='btn bg-gradient-primary'>Submit</button>\n              </>\n            )}\n\n          </div>\n\n        </div>\n      </form>\n    </>\n  )\n})\n\nconst mapStateToProps = (state, ownProps) => {\n  const loading = state.tablepagination.loading[ownProps.paginationConfig.serviceName] || false\n  const payload = state.tablepagination.payload[ownProps.paginationConfig.serviceName] || {}\n  return {\n    payload,\n    loading\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    tablepaginationSetloading: data => dispatch(TablepaginationActions.tablepaginationSetloading(data)),\n    tablepaginationOnChangeForm: data => dispatch(TablepaginationActions.tablepaginationOnChangeForm(data)),\n    tablepaginationSubmitForm: data => dispatch(TablepaginationActions.tablepaginationSubmitForm(data)),\n    tablepaginationResetForm: data => dispatch(TablepaginationActions.tablepaginationResetForm(data))\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(injectIntl(Createform))\n"],"names":["CardBody","this","props","tablepaginationOnChangeForm","payload","child","PureComponent","Createform","React","console","log","history","useHistory","paginationConfig","formTitle","tablepaginationSubmitForm","redirectAfterCreate","redirectAfterCreateToParent","footerCard","tablepaginationResetForm","onSubmit","isNeedValidation","beforeSubmit","children","tablepaginationSetloading","loading","useEffect","serviceName","childrenWithProps","id","e","theForm","document","getElementById","preventDefault","checkValidity","stopPropagation","classList","add","isLoading","p","pl","fields","noValidate","className","type","disabled","style","width","onClick","goBack","marginLeft","connect","state","ownProps","tablepagination","dispatch","data","TablepaginationActions","injectIntl"],"sourceRoot":""}